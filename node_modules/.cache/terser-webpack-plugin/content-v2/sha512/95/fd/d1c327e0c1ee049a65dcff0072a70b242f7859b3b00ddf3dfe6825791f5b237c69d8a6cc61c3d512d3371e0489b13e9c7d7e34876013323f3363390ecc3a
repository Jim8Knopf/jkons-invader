{"map":"{\"version\":3,\"sources\":[\"bundle.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"__webpack_exports__\",\"init\",\"gameOver\",\"score\",\"enemy_Enemy\",\"[object Object]\",\"context\",\"shoots\",\"handler\",\"zoom\",\"x\",\"y\",\"this\",\"_live\",\"_sheet\",\"Image\",\"_tileFrameX\",\"_tileFrameY\",\"_tileWidth\",\"_tileHeight\",\"_spriteChangeCounter\",\"grid\",\"_context\",\"_x\",\"_y\",\"_speedX\",\"_speedY\",\"_zoom\",\"_zoomedWidth\",\"_zoomedHeight\",\"_shoots\",\"_handler\",\"_canvasCollision\",\"right\",\"canvas\",\"width\",\"left\",\"top\",\"bottom\",\"src\",\"clearRect\",\"_renderEnemy\",\"drawImage\",\"_hit\",\"_spriteAnimation\",\"_translate\",\"_dead\",\"_gameOver\",\"j\",\"length\",\"shootX\",\"getX\",\"shootY\",\"getY\",\"console\",\"log\",\"hit\",\"removeEnemy\",\"randomX\",\"Math\",\"floor\",\"random\",\"randomY\",\"getEnemiesY\",\"find\",\"height\",\"setTimeout\",\"addEnemy\",\"tileWidth\",\"tileHeight\",\"extendStatics\",\"b\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"__extends\",\"TypeError\",\"String\",\"__\",\"constructor\",\"__awaiter\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"Promise\",\"resolve\",\"reject\",\"fulfilled\",\"step\",\"next\",\"e\",\"rejected\",\"result\",\"done\",\"then\",\"apply\",\"__generator\",\"body\",\"f\",\"g\",\"_\",\"label\",\"sent\",\"trys\",\"ops\",\"verb\",\"throw\",\"return\",\"iterator\",\"v\",\"op\",\"pop\",\"push\",\"__values\",\"__read\",\"ar\",\"error\",\"__spreadArray\",\"to\",\"from\",\"il\",\"__await\",\"__asyncGenerator\",\"asyncIterator\",\"q\",\"a\",\"resume\",\"fulfill\",\"settle\",\"shift\",\"__asyncValues\",\"isFunction\",\"createErrorClass\",\"createImpl\",\"ctorFunc\",\"instance\",\"Error\",\"stack\",\"UnsubscriptionError\",\"_super\",\"errors\",\"message\",\"map\",\"err\",\"toString\",\"join\",\"arrRemove\",\"arr\",\"item\",\"index\",\"indexOf\",\"splice\",\"Subscription_Subscription\",\"Subscription\",\"initialTeardown\",\"closed\",\"_parentage\",\"_teardowns\",\"empty\",\"unsubscribe\",\"e_1\",\"_a\",\"e_2\",\"_b\",\"isArray\",\"_parentage_1\",\"_parentage_1_1\",\"remove\",\"e_1_1\",\"_teardowns_1\",\"_teardowns_1_1\",\"teardown_1\",\"execTeardown\",\"e_2_1\",\"add\",\"teardown\",\"_hasParent\",\"_addParent\",\"parent\",\"includes\",\"_removeParent\",\"EMPTY\",\"EMPTY_SUBSCRIPTION\",\"isSubscription\",\"config\",\"onUnhandledError\",\"onStoppedNotification\",\"undefined\",\"useDeprecatedSynchronousErrorHandling\",\"useDeprecatedNextContext\",\"timeoutProvider\",\"args\",\"_i\",\"arguments\",\"delegate\",\"clearTimeout\",\"handle\",\"reportUnhandledError\",\"noop\",\"COMPLETE_NOTIFICATION\",\"createNotification\",\"kind\",\"Subscriber_Subscriber\",\"Subscriber\",\"destination\",\"_this\",\"isStopped\",\"EMPTY_OBSERVER\",\"complete\",\"Subscriber_SafeSubscriber\",\"handleStoppedNotification\",\"nextNotification\",\"_next\",\"_error\",\"_complete\",\"SafeSubscriber\",\"observerOrNext\",\"context_1\",\"wrapForErrorHandling\",\"defaultErrorHandler\",\"_syncErrorHack_isSubscribing\",\"__syncError\",\"notification\",\"subscriber\",\"observable_observable\",\"observable\",\"identity\",\"pipeFromArray\",\"fns\",\"input\",\"reduce\",\"prev\",\"fn\",\"Observable_Observable\",\"Observable\",\"subscribe\",\"_subscribe\",\"lift\",\"operator\",\"source\",\"isObserver\",\"_deprecatedSyncErrorSubscribe\",\"_trySubscribe\",\"localSubscriber\",\"dest\",\"sink\",\"forEach\",\"promiseCtor\",\"getPromiseCtor\",\"subscription\",\"pipe\",\"operations\",\"toPromise\",\"operate\",\"hasLift\",\"liftedSource\",\"OperatorSubscriber_OperatorSubscriber\",\"OperatorSubscriber\",\"onNext\",\"onComplete\",\"onError\",\"onFinalize\",\"project\",\"isArrayLike\",\"isPromise\",\"scheduleArray\",\"scheduler\",\"schedule\",\"iterator_iterator\",\"isInteropObservable\",\"isIterable\",\"isAsyncIterable\",\"obj\",\"createInvalidObservableTypeError\",\"readableStreamLikeToAsyncGenerator\",\"readableStream\",\"reader\",\"getReader\",\"read\",\"releaseLock\",\"isReadableStreamLike\",\"innerFrom\",\"obs\",\"fromArrayLike\",\"promise\",\"fromAsyncIterable\",\"iterable\",\"iterable_1\",\"iterable_1_1\",\"array\",\"asyncIterable\",\"asyncIterable_1\",\"asyncIterable_1_1\",\"process\",\"catch\",\"mergeMap\",\"resultSelector\",\"concurrent\",\"Infinity\",\"ii\",\"onBeforeNext\",\"expand\",\"innerSubScheduler\",\"additionalTeardown\",\"buffer\",\"active\",\"isComplete\",\"checkComplete\",\"outerNext\",\"doInnerSub\",\"innerComplete\",\"innerValue\",\"_loop_1\",\"bufferedValue\",\"mergeInternals\",\"mapOneOrManyArgs\",\"callOrApply\",\"nodeEventEmitterMethods\",\"eventTargetMethods\",\"jqueryMethods\",\"fromEvent\",\"target\",\"eventName\",\"options\",\"addEventListener\",\"removeEventListener\",\"isEventTarget\",\"methodName\",\"addListener\",\"removeListener\",\"isNodeStyleEventEmitter\",\"toCommonHandlerRegistry\",\"on\",\"off\",\"isJQueryStyleEventEmitter\",\"subTarget\",\"player_Player\",\"shot\",\"fire\",\"_velocity\",\"pressed_keys\",\"_keydown\",\"document\",\"_keydown$\",\"event\",\"_keyup\",\"_keyup$\",\"filter\",\"k\",\"keydownSubscription\",\"keyupSubscription\",\"_tileSize\",\"_shot\",\"_left\",\"_right\",\"_fire\",\"_zoomedSize\",\"_render\",\"_moveLeft\",\"_moveRight\",\"_fireShot\",\"_clear\",\"shoot\",\"onload\",\"that\",\"Shot\",\"_length\",\"_thickness\",\"positionX\",\"positionY\",\"fillStyle\",\"fillRect\",\"ObjectUnsubscribedError\",\"Subject_Subject\",\"Subject\",\"observers\",\"hasError\",\"thrownError\",\"subject\",\"Subject_AnonymousSubject\",\"_throwIfClosed\",\"copy\",\"slice\",\"copy_1\",\"copy_1_1\",\"_checkFinalizedStatuses\",\"_innerSubscribe\",\"asObservable\",\"AnonymousSubject\",\"BehaviorSubject\",\"_value\",\"getValue\",\"configurable\",\"getElementById\",\"main_context\",\"getContext\",\"enemyHandler\",\"enemies\",\"enemy\",\"concat\",\"moveEnemy\",\"yList\",\"settings\",\"size\",\"_canvas\",\"resizeCanvas\",\"window\",\"innerHeight\",\"innerWidth\",\"imageSmoothingEnabled\",\"animation\",\"shots\",\"players\",\"gameStarted\",\"main_player\",\"player\",\"newPlayer\",\"spaceBetween\",\"keyboard\",\"animate\",\"handleInput\",\"moveEnemies\",\"shootAnimation\",\"requestAnimationFrame\",\"actualScore\"],\"mappings\":\"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\"}","code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([,function(t,e,n){\"use strict\";n.r(e),n.d(e,\"init\",(function(){return kt})),n.d(e,\"gameOver\",(function(){return Ct})),n.d(e,\"score\",(function(){return Ot}));class r{constructor(t,e,n,r,i,o){this._live=1,this._sheet=new Image,this._tileFrameX=0,this._tileFrameY=2,this._tileWidth=9,this._tileHeight=9,this._spriteChangeCounter=0,this.grid=900,this._context=t,this._x=i,this._y=o,this._speedX=5,this._speedY=35,this._zoom=r,this._zoomedWidth=this._tileWidth*this._zoom,this._zoomedHeight=this._tileHeight*this._zoom,this._shoots=e,this._handler=n,this._canvasCollision={right:this._context.canvas.width-this._zoomedWidth,left:0,top:0,bottom:this._context.canvas.width-9*this._zoomedHeight},this._sheet.src=\"../img/ji-sheet.png\"}_translate(t,e){this._context.clearRect(this._x,this._y,this._zoomedWidth,this._zoomedHeight),this._x+=t,this._y+=e,this._renderEnemy()}_renderEnemy(){this._context.drawImage(this._sheet,this._tileWidth*this._tileFrameX,this._tileWidth*this._tileFrameY,this._tileWidth,this._tileWidth,this._x,this._y,this._zoomedWidth,this._zoomedHeight)}moveEnemy(){this._hit(),this._spriteAnimation(),(this._speedX>0&&this._x<=this._canvasCollision.right||this._speedX<0&&this._x>=this._canvasCollision.left)&&this._translate(this._speedX,0),(this._speedX>0&&this._x>=this._canvasCollision.right||this._speedX<0&&this._x<=this._canvasCollision.left)&&(this._speedX=-this._speedX,this._translate(0,this._speedY)),this._dead(),this._gameOver()}_spriteAnimation(){this._spriteChangeCounter>=50?(this._spriteChangeCounter=0,this._tileFrameX<1?this._tileFrameX++:this._tileFrameX=0):this._spriteChangeCounter++}_hit(){for(let t=0;t<this._shoots.length;t++){let e=this._shoots[t].getX,n=this._shoots[t].getY;n>this._y&&n<=this._y+this._zoomedHeight&&e>=this._x&&e<=this._x+this._zoomedWidth&&(console.log(\"HIT\"),this._shoots[t].hit(),this._live--,Ot()),this._shoots[t].getX}}_dead(){if(this._live<=0){this._handler.removeEnemy(this),this._context.clearRect(this._x,this._y,this._zoomedWidth,this._zoomedHeight);const t=9*Math.floor(Math.random()*(this._context.canvas.width/9));let e=Math.floor(Math.random()*(this._canvasCollision.bottom/9)*9);for(;this._handler.getEnemiesY.find(t=>{e>=t&&this._zoomedHeight});)e=9*Math.floor(Math.random()*(this._context.canvas.height/9));setTimeout(()=>{this._handler.addEnemy(new r(this._context,this._shoots,this._handler,this._zoom,t,e))},1e4)}}_gameOver(){this._y>this._canvasCollision.bottom&&console.log(\"finish\")}get zoom(){return this._zoom}get tileWidth(){return this._tileWidth}get tileHeight(){return this._tileHeight}get y(){return this._y}}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}c((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}Object.create;function c(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function h(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function l(t){return this instanceof l?(this.v=t,this):new l(t)}function f(t,e,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r,i=n.apply(t,e||[]),o=[];return r={},s(\"next\"),s(\"throw\"),s(\"return\"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=i[t](e)).value instanceof l?Promise.resolve(n.value.v).then(c,h):a(o[0][2],n)}catch(t){a(o[0][3],t)}var n}function c(t){u(\"next\",t)}function h(t){u(\"throw\",t)}function a(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}}function d(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=c(t),e={},r(\"next\"),r(\"throw\"),r(\"return\"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}Object.create;function p(t){return\"function\"==typeof t}function _(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var y=_((function(t){return function(e){t(this),this.message=e?e.length+\" errors occurred during unsubscription:\\n\"+e.map((function(t,e){return e+1+\") \"+t.toString()})).join(\"\\n  \"):\"\",this.name=\"UnsubscriptionError\",this.errors=e}}));function v(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var b=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(Array.isArray(o))try{for(var s=c(o),u=s.next();!u.done;u=s.next()){u.value.remove(this)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else null==o||o.remove(this);var l=this.initialTeardown;if(p(l))try{l()}catch(t){i=t instanceof y?t.errors:[t]}var f=this._teardowns;if(f){this._teardowns=null;try{for(var d=c(f),_=d.next();!_.done;_=d.next()){var v=_.value;try{w(v)}catch(t){i=null!=i?i:[],t instanceof y?i=a(a([],h(i)),h(t.errors)):i.push(t)}}}catch(t){n={error:t}}finally{try{_&&!_.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}if(i)throw new y(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)w(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&v(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&v(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),m=b.EMPTY;function g(t){return t instanceof b||t&&\"closed\"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function w(t){p(t)?t():t.unsubscribe()}var x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},S={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=S.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,a([],h(t)))},clearTimeout:function(t){var e=S.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function z(t){S.setTimeout((function(){var e=x.onUnhandledError;if(!e)throw t;e(t)}))}function E(){}var k=C(\"C\",void 0,void 0);function C(t,e,n){return{kind:t,value:e,error:n}}var I=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,g(e)&&e.add(n)):n.destination=H,n}return o(e,t),e.create=function(t,e,n){return new O(t,e,n)},e.prototype.next=function(t){this.isStopped?j(function(t){return C(\"N\",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?j(C(\"E\",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?j(k,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(b),O=function(t){function e(e,n,r){var i,o=t.call(this)||this;if(p(e))i=e;else if(e){var s;i=e.next,n=e.error,r=e.complete,o&&x.useDeprecatedNextContext?(s=Object.create(e)).unsubscribe=function(){return o.unsubscribe()}:s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}return o.destination={next:i?P(i,o):E,error:P(null!=n?n:T,o),complete:r?P(r,o):E},o}return o(e,t),e}(I);function P(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{t.apply(void 0,a([],h(n)))}catch(t){if(x.useDeprecatedSynchronousErrorHandling){if(!e._syncErrorHack_isSubscribing)throw t;e.__syncError=t}else z(t)}}}function T(t){throw t}function j(t,e){var n=x.onStoppedNotification;n&&S.setTimeout((function(){return n(t,e)}))}var H={closed:!0,next:E,error:T,complete:E},A=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\";function W(t){return t}function X(t){return 0===t.length?W:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var L=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=(r=t)&&r instanceof I||function(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}(r)&&g(r)?t:new O(t,e,n);if(x.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(i);else{var o=this.operator,s=this.source;i.add(o?o.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}return i},t.prototype._deprecatedSyncErrorSubscribe=function(t){var e=t;e._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)t.add(n.call(t,this.source));else try{this._subscribe(t)}catch(t){e.__syncError=t}for(var r=e;r;){if(\"__syncError\"in r)try{throw r.__syncError}finally{t.unsubscribe()}r=r.destination}e._syncErrorHack_isSubscribing=!1},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=F(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),null==i||i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[A]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?X(t)(this):this},t.prototype.toPromise=function(t){var e=this;return new(t=F(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function F(t){var e;return null!==(e=null!=t?t:x.Promise)&&void 0!==e?e:Promise}function M(t){return function(e){if(function(t){return p(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError(\"Unable to lift unknown Observable type\")}}var Y=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.onFinalize=o,s._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,s._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return o(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(I);function R(t,e){return M((function(n,r){var i=0;n.subscribe(new Y(r,(function(n){r.next(t.call(e,n,i++))})))}))}var D=function(t){return t&&\"number\"==typeof t.length&&\"function\"!=typeof t};function N(t){return p(null==t?void 0:t.then)}function U(t,e){return new L((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}var $=\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\";function B(t){return p(t[A])}function V(t){return p(null==t?void 0:t[$])}function q(t){return Symbol.asyncIterator&&p(null==t?void 0:t[Symbol.asyncIterator])}function G(t){return new TypeError(\"You provided \"+(null!==t&&\"object\"==typeof t?\"an invalid object\":\"'\"+t+\"'\")+\" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\")}function J(t){return f(this,arguments,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,l(e.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,l(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,l(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function K(t){return p(null==t?void 0:t.getReader)}function Q(t){if(t instanceof L)return t;if(null!=t){if(B(t))return r=t,new L((function(t){var e=r[A]();if(p(e.subscribe))return e.subscribe(t);throw new TypeError(\"Provided object does not correctly implement Symbol.observable\")}));if(D(t))return Z(t);if(N(t))return n=t,new L((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,z)}));if(q(t))return tt(t);if(V(t))return e=t,new L((function(t){var n,r;try{for(var i=c(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()}));if(K(t))return tt(J(t))}var e,n,r;throw G(t)}function Z(t){return new L((function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()}))}function tt(t){return new L((function(e){(function(t,e){var n,r,i,o;return s(this,void 0,void 0,(function(){var s,c;return u(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=d(t),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),i={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function et(t,e,n){return void 0===n&&(n=1/0),p(e)?et((function(n,r){return R((function(t,i){return e(n,t,r,i)}))(Q(t(n,r)))}),n):(\"number\"==typeof e&&(n=e),M((function(e,r){return function(t,e,n,r,i,o,s,u){var c=[],h=0,a=0,l=!1,f=function(){!l||c.length||h||e.complete()},d=function(t){return h<r?p(t):c.push(t)},p=function(t){o&&e.next(t),h++;var u=!1;Q(n(t,a++)).subscribe(new Y(e,(function(t){null==i||i(t),o?d(t):e.next(t)}),(function(){u=!0}),void 0,(function(){if(u)try{h--;for(var t=function(){var t=c.shift();s?e.add(s.schedule((function(){return p(t)}))):p(t)};c.length&&h<r;)t();f()}catch(t){e.error(t)}})))};return t.subscribe(new Y(e,d,(function(){l=!0,f()}))),function(){null==u||u()}}(e,r,t,n)})))}var nt=Array.isArray;function rt(t){return R((function(e){return function(t,e){return nt(e)?t.apply(void 0,a([],h(e))):t(e)}(t,e)}))}var it=[\"addListener\",\"removeListener\"],ot=[\"addEventListener\",\"removeEventListener\"],st=[\"on\",\"off\"];function ut(t,e,n,r){if(p(n)&&(r=n,n=void 0),r)return ut(t,e,n).pipe(rt(r));var i,o,s=h(function(t){return p(t.addEventListener)&&p(t.removeEventListener)}(t)?ot.map((function(r){return function(i){return t[r](e,i,n)}})):function(t){return p(t.addListener)&&p(t.removeListener)}(t)?it.map(ct(t,e)):function(t){return p(t.on)&&p(t.off)}(t)?st.map(ct(t,e)):[],2),u=s[0],c=s[1];if(!u&&D(t))return et((function(t){return ut(t,e,n)}))((i=t,o?U(i,o):Z(i)));if(!u)throw new TypeError(\"Invalid event target\");return new L((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return u(e),function(){return c(e)}}))}function ct(t,e){return function(n){return function(r){return t[n](e,r)}}}class ht{constructor(t,e,n,r,i,o){this._sheet=new Image,this._velocity=4,this.pressed_keys=[],this._keydown=ut(document,\"keydown\"),this._keydown$=this._keydown.pipe(R(t=>{this.pressed_keys.push(t.key)})),this._keyup=ut(document,\"keyup\"),this._keyup$=this._keyup.pipe(R(t=>{this.pressed_keys=this.pressed_keys.filter(e=>e!==t.key)})),this.keydownSubscription=this._keydown$.subscribe(),this.keyupSubscription=this._keyup$.subscribe(),this._tileSize=9,this._context=t,this._shot=e,this._left=n,this._right=r,this._fire=i,this._zoomedSize=o*this._tileSize,this._y=t.canvas.height-this._zoomedSize,this._x=(t.canvas.width-this._zoomedSize)/2,this._sheet.src=\"../img/ji-sheet.png\",this._render(!0)}handleInput(){this.pressed_keys.includes(this._left)&&this._moveLeft(),this.pressed_keys.includes(this._right)&&this._moveRight(),this.pressed_keys.includes(this._fire)&&this._fireShot(),this._clear(),this._render()}_moveLeft(){this._x=this._x-this._velocity>=0?this._x-this._velocity:0}_moveRight(){this._x=this._x+this._zoomedSize<=this._context.canvas.width?this._x+this._velocity:this._x}_fireShot(){this._shot.shoot(this._x+this._zoomedSize/2,this._y)}_clear(){this._context.clearRect(this._x-this._velocity,this._y,this._context.canvas.width,this._context.canvas.height)}_render(t){if(t){const t=this;this._sheet.onload=function(){t._context.drawImage(t._sheet,0,0,9,9,t._x,t._y,t._zoomedSize,t._zoomedSize)}}else this._context.drawImage(this._sheet,0,0,9,9,this._x,this._y,this._zoomedSize,this._zoomedSize)}}class at{constructor(t){this._velocity=20,this._length=10,this._thickness=5,this._context=t,this._x=0,this._y=0}shoot(t,e){this._y<=0&&(this._clear(),this._x=t,this._y=e)}hit(){this._clear(),this._y=0}shootAnimation(){this._y<=0&&this._clear(),this._clear(),this._y-=this._velocity,this._render()}_clear(){this._context.clearRect(this._x-this._thickness/2,this._y-this._length,this._thickness+.5,this._length+.1)}_render(){this._context.fillStyle=\"red\",this._context.fillRect(this._x-this._thickness/2,this._y-this._length,this._thickness,this._length)}get getX(){return this._x}get getY(){return this._y}}var lt=_((function(t){return function(){t(this),this.name=\"ObjectUnsubscribedError\",this.message=\"object unsubscribed\"}})),ft=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype.lift=function(t){var e=new dt(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new lt},e.prototype.next=function(t){var e,n;if(this._throwIfClosed(),!this.isStopped){var r=this.observers.slice();try{for(var i=c(r),o=i.next();!o.done;o=i.next()){o.value.next(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},e.prototype.error=function(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;for(var e=this.observers;e.length;)e.shift().error(t)}},e.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var t=this.observers;t.length;)t.shift().complete()}},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this.hasError,n=this.isStopped,r=this.observers;return e||n?m:(r.push(t),new b((function(){return v(r,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,n=this.thrownError,r=this.isStopped;e?t.error(n):r&&t.complete()},e.prototype.asObservable=function(){var t=new L;return t.source=this,t},e.create=function(t,e){return new dt(t,e)},e}(L),dt=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return o(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:m},e}(ft);const pt=new(function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return o(e,t),Object.defineProperty(e.prototype,\"value\",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this.hasError,e=this.thrownError,n=this._value;if(t)throw e;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(ft))(23),_t=document.getElementById(\"jkonsInvader\"),yt=_t.getContext(\"2d\"),vt=new class{constructor(){this.enemies=[]}addEnemy(t){this.enemies.push(t)}addEnemies(t){this.enemies.concat(t)}removeEnemy(t){this.enemies.splice(this.enemies.indexOf(t),1)}moveEnemies(){for(let t=0;t<this.enemies.length;t++)this.enemies[t].moveEnemy()}get getEnemiesY(){const t=[];for(let e=0;e<this.enemies.length;e++)t.push(this.enemies[e].y);return t}},bt=new class{constructor(t){this._zoom=1,this.size=0,this._canvas=t,this.resizeCanvas(),window.addEventListener(\"resize\",()=>{this.resizeCanvas()})}resizeCanvas(){innerHeight<=450?this.zoom=1:innerHeight<=690||innerWidth<=675?this.zoom=2:innerHeight<=915||innerWidth<=900?this.zoom=3:this.zoom=4,this.size=225*this.zoom,this._canvas.width=this.size,this._canvas.height=this.size}set zoom(t){this._zoom=t}get zoom(){return this._zoom}}(_t);yt.imageSmoothingEnabled=!1,pt.subscribe(console.log);let mt,gt=new Array,wt=new Array,xt=!1;document.getElementById(\"score\");const St=function(t,e,n){const r=new at(yt),i=new ht(yt,r,t,e,n,bt.zoom);return gt.push(r),wt.push(i),i}(\"a\",\"d\",\" \"),zt=new r(yt,gt,vt,1,0,0),Et=bt.zoom*zt.tileWidth;function kt(){document.addEventListener(\"keyup\",t=>{switch(t.key){case\"r\":!1===xt?(xt=!0,It()):kt();break;default:xt=!1}})}for(let t=0;t<20;t++)vt.addEnemy(new r(yt,gt,vt,bt.zoom,t*Et,0));function Ct(){}function It(){setTimeout(()=>{St.handleInput(),vt.moveEnemies();for(let t=0;t<gt.length;t++)gt[t].shootAnimation();mt=requestAnimationFrame(It)},1/60)}function Ot(){0}kt()}]);","extractedComments":[]}