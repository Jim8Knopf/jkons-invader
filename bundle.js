!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([,function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return Ct})),n.d(e,"gameOver",(function(){return It})),n.d(e,"score",(function(){return Pt})),n.d(e,"stop",(function(){return Tt}));class r{constructor(t,e,n,r,i,o){this._live=1,this._sheet=new Image,this._tileFrameX=0,this._tileFrameY=2,this._tileWidth=9,this._tileHeight=9,this._spriteChangeCounter=0,this.grid=900,this._context=t,this._x=i,this._y=o,this._speedX=5,this._speedY=35,this._zoom=r,this._zoomedWidth=this._tileWidth*this._zoom,this._zoomedHeight=this._tileHeight*this._zoom,this._shoots=e,this._handler=n,this._canvasCollision={right:this._context.canvas.width-this._zoomedWidth,left:0,top:0,bottom:this._context.canvas.height-2*this._zoomedHeight},this._sheet.src="../img/ji-sheet.png"}_translate(t,e){this._context.clearRect(this._x,this._y,this._zoomedWidth,this._zoomedHeight),this._x+=t,this._y+=e,this._renderEnemy()}_renderEnemy(){this._context.drawImage(this._sheet,this._tileWidth*this._tileFrameX,this._tileWidth*this._tileFrameY,this._tileWidth,this._tileWidth,this._x,this._y,this._zoomedWidth,this._zoomedHeight)}moveEnemy(){this._hit(),this._spriteAnimation(),(this._speedX>0&&this._x<=this._canvasCollision.right||this._speedX<0&&this._x>=this._canvasCollision.left)&&this._translate(this._speedX,0),(this._speedX>0&&this._x>=this._canvasCollision.right||this._speedX<0&&this._x<=this._canvasCollision.left)&&(this._speedX=-this._speedX,this._translate(0,this._speedY)),this._dead(),this._gameOver()}_spriteAnimation(){this._spriteChangeCounter>=50?(this._spriteChangeCounter=0,this._tileFrameX<1?this._tileFrameX++:this._tileFrameX=0):this._spriteChangeCounter++}_hit(){for(let t=0;t<this._shoots.length;t++){let e=this._shoots[t].getX,n=this._shoots[t].getY;n>this._y&&n<=this._y+this._zoomedHeight&&e>=this._x&&e<=this._x+this._zoomedWidth&&(console.log("HIT"),this._shoots[t].hit(),this._live--,Pt()),this._shoots[t].getX}}_dead(){if(this._live<=0){this._handler.removeEnemy(this),this._context.clearRect(this._x,this._y,this._zoomedWidth,this._zoomedHeight);const t=9*Math.floor(Math.random()*(this._context.canvas.width/9));let e=Math.floor(Math.random()*(this._canvasCollision.bottom/9)*9);for(;this._handler.getEnemiesY.find(t=>{e>=t&&this._zoomedHeight});)e=9*Math.floor(Math.random()*(this._context.canvas.height/9));setTimeout(()=>{this._handler.addEnemy(new r(this._context,this._shoots,this._handler,this._zoom,t,e))},1e4)}}_gameOver(){this._y>this._canvasCollision.bottom&&(console.log("finish"),Tt())}get zoom(){return this._zoom}get tileWidth(){return this._tileWidth}get tileHeight(){return this._tileHeight}get y(){return this._y}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}c((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}Object.create;function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function l(t){return this instanceof l?(this.v=t,this):new l(t)}function f(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=i[t](e)).value instanceof l?Promise.resolve(n.value.v).then(c,h):a(o[0][2],n)}catch(t){a(o[0][3],t)}var n}function c(t){u("next",t)}function h(t){u("throw",t)}function a(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}}function d(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=c(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}Object.create;function p(t){return"function"==typeof t}function _(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var y=_((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function v(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var b=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=c(o),u=s.next();!u.done;u=s.next()){u.value.remove(this)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else o.remove(this);var l=this.initialTeardown;if(p(l))try{l()}catch(t){i=t instanceof y?t.errors:[t]}var f=this._teardowns;if(f){this._teardowns=null;try{for(var d=c(f),_=d.next();!_.done;_=d.next()){var v=_.value;try{w(v)}catch(t){i=null!=i?i:[],t instanceof y?i=a(a([],h(i)),h(t.errors)):i.push(t)}}}catch(t){n={error:t}}finally{try{_&&!_.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}if(i)throw new y(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)w(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&v(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&v(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),m=b.EMPTY;function g(t){return t instanceof b||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function w(t){p(t)?t():t.unsubscribe()}var x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},S={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=S.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,a([],h(t)))},clearTimeout:function(t){var e=S.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function z(t){S.setTimeout((function(){var e=x.onUnhandledError;if(!e)throw t;e(t)}))}function E(){}var k=C("C",void 0,void 0);function C(t,e,n){return{kind:t,value:e,error:n}}var I=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,g(e)&&e.add(n)):n.destination=A,n}return o(e,t),e.create=function(t,e,n){return new O(t,e,n)},e.prototype.next=function(t){this.isStopped?j(function(t){return C("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?j(C("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?j(k,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(b),O=function(t){function e(e,n,r){var i,o=t.call(this)||this;if(p(e))i=e;else if(e){var s;i=e.next,n=e.error,r=e.complete,o&&x.useDeprecatedNextContext?(s=Object.create(e)).unsubscribe=function(){return o.unsubscribe()}:s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}return o.destination={next:i?P(i,o):E,error:P(null!=n?n:T,o),complete:r?P(r,o):E},o}return o(e,t),e}(I);function P(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{t.apply(void 0,a([],h(n)))}catch(t){if(x.useDeprecatedSynchronousErrorHandling){if(!e._syncErrorHack_isSubscribing)throw t;e.__syncError=t}else z(t)}}}function T(t){throw t}function j(t,e){var n=x.onStoppedNotification;n&&S.setTimeout((function(){return n(t,e)}))}var A={closed:!0,next:E,error:T,complete:E},H="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(t){return t}function X(t){return 0===t.length?W:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var F=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=(r=t)&&r instanceof I||function(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}(r)&&g(r)?t:new O(t,e,n);if(x.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(i);else{var o=this.operator,s=this.source;i.add(o?o.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}return i},t.prototype._deprecatedSyncErrorSubscribe=function(t){var e=t;e._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)t.add(n.call(t,this.source));else try{t.add(this._subscribe(t))}catch(t){e.__syncError=t}for(var r=e;r;){if("__syncError"in r)try{throw r.__syncError}finally{t.unsubscribe()}r=r.destination}e._syncErrorHack_isSubscribing=!1},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=L(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),null==i||i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[H]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?X(t)(this):this},t.prototype.toPromise=function(t){var e=this;return new(t=L(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function L(t){var e;return null!==(e=null!=t?t:x.Promise)&&void 0!==e?e:Promise}function M(t){return function(e){if(function(t){return p(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Y=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.onFinalize=o,s._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,s._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return o(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(I);function R(t,e){return M((function(n,r){var i=0;n.subscribe(new Y(r,(function(n){r.next(t.call(e,n,i++))})))}))}var D=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function N(t){return p(null==t?void 0:t.then)}function U(t,e){return new F((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}var $="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function B(t){return p(t[H])}function G(t){return p(null==t?void 0:t[$])}function V(t){return Symbol.asyncIterator&&p(null==t?void 0:t[Symbol.asyncIterator])}function q(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function J(t){return f(this,arguments,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,l(e.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,l(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,l(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function K(t){return p(null==t?void 0:t.getReader)}function Q(t){if(t instanceof F)return t;if(null!=t){if(B(t))return r=t,new F((function(t){var e=r[H]();if(p(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(D(t))return Z(t);if(N(t))return n=t,new F((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,z)}));if(V(t))return tt(t);if(G(t))return e=t,new F((function(t){var n,r;try{for(var i=c(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()}));if(K(t))return tt(J(t))}var e,n,r;throw q(t)}function Z(t){return new F((function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()}))}function tt(t){return new F((function(e){(function(t,e){var n,r,i,o;return s(this,void 0,void 0,(function(){var s,c;return u(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=d(t),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),i={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function et(t,e,n){return void 0===n&&(n=1/0),p(e)?et((function(n,r){return R((function(t,i){return e(n,t,r,i)}))(Q(t(n,r)))}),n):("number"==typeof e&&(n=e),M((function(e,r){return function(t,e,n,r,i,o,s,u){var c=[],h=0,a=0,l=!1,f=function(){!l||c.length||h||e.complete()},d=function(t){return h<r?p(t):c.push(t)},p=function(t){o&&e.next(t),h++;var u=!1;Q(n(t,a++)).subscribe(new Y(e,(function(t){null==i||i(t),o?d(t):e.next(t)}),(function(){u=!0}),void 0,(function(){if(u)try{h--;for(var t=function(){var t=c.shift();s?e.add(s.schedule((function(){return p(t)}))):p(t)};c.length&&h<r;)t();f()}catch(t){e.error(t)}})))};return t.subscribe(new Y(e,d,(function(){l=!0,f()}))),function(){null==u||u()}}(e,r,t,n)})))}var nt=Array.isArray;function rt(t){return R((function(e){return function(t,e){return nt(e)?t.apply(void 0,a([],h(e))):t(e)}(t,e)}))}var it=["addListener","removeListener"],ot=["addEventListener","removeEventListener"],st=["on","off"];function ut(t,e,n,r){if(p(n)&&(r=n,n=void 0),r)return ut(t,e,n).pipe(rt(r));var i,o,s=h(function(t){return p(t.addEventListener)&&p(t.removeEventListener)}(t)?ot.map((function(r){return function(i){return t[r](e,i,n)}})):function(t){return p(t.addListener)&&p(t.removeListener)}(t)?it.map(ct(t,e)):function(t){return p(t.on)&&p(t.off)}(t)?st.map(ct(t,e)):[],2),u=s[0],c=s[1];if(!u&&D(t))return et((function(t){return ut(t,e,n)}))((i=t,o?U(i,o):Z(i)));if(!u)throw new TypeError("Invalid event target");return new F((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return u(e),function(){return c(e)}}))}function ct(t,e){return function(n){return function(r){return t[n](e,r)}}}class ht{constructor(t,e,n,r,i,o){this._sheet=new Image,this._velocity=4,this.pressed_keys=[],this._keydown=ut(document,"keydown"),this._keydown$=this._keydown.pipe(R(t=>{this.pressed_keys.push(t.key)})),this._keyup=ut(document,"keyup"),this._keyup$=this._keyup.pipe(R(t=>{this.pressed_keys=this.pressed_keys.filter(e=>e!==t.key)})),this.keydownSubscription=this._keydown$.subscribe(),this.keyupSubscription=this._keyup$.subscribe(),this._tileSize=9,this._context=t,this._shot=e,this._left=n,this._right=r,this._fire=i,this._zoomedSize=o*this._tileSize,this._y=t.canvas.height-this._zoomedSize,this._x=(t.canvas.width-this._zoomedSize)/2,this._sheet.src="../img/ji-sheet.png",this._render(!0)}handleInput(){this.pressed_keys.includes(this._left)&&this._moveLeft(),this.pressed_keys.includes(this._right)&&this._moveRight(),this.pressed_keys.includes(this._fire)&&this._fireShot(),this._clear(),this._render()}_moveLeft(){this._x=this._x-this._velocity>=0?this._x-this._velocity:0}_moveRight(){this._x=this._x+this._zoomedSize<=this._context.canvas.width?this._x+this._velocity:this._x}_fireShot(){this._shot.shoot(this._x+this._zoomedSize/2,this._y)}_clear(){this._context.clearRect(this._x-this._velocity,this._y,this._context.canvas.width,this._context.canvas.height)}_render(t){if(t){const t=this;this._sheet.onload=function(){t._context.drawImage(t._sheet,0,0,9,9,t._x,t._y,t._zoomedSize,t._zoomedSize)}}else this._context.drawImage(this._sheet,0,0,9,9,this._x,this._y,this._zoomedSize,this._zoomedSize)}}class at{constructor(t){this._velocity=20,this._length=10,this._thickness=5,this._context=t,this._x=0,this._y=0}shoot(t,e){this._y<=0&&(this._clear(),this._x=t,this._y=e)}hit(){this._clear(),this._y=0}shootAnimation(){this._y<=0&&this._clear(),this._clear(),this._y-=this._velocity,this._render()}_clear(){this._context.clearRect(this._x-this._thickness/2,this._y-this._length,this._thickness+.5,this._length+.1)}_render(){this._context.fillStyle="red",this._context.fillRect(this._x-this._thickness/2,this._y-this._length,this._thickness,this._length)}get getX(){return this._x}get getY(){return this._y}}var lt=_((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ft=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype.lift=function(t){var e=new dt(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new lt},e.prototype.next=function(t){var e,n;if(this._throwIfClosed(),!this.isStopped){var r=this.observers.slice();try{for(var i=c(r),o=i.next();!o.done;o=i.next()){o.value.next(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},e.prototype.error=function(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;for(var e=this.observers;e.length;)e.shift().error(t)}},e.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var t=this.observers;t.length;)t.shift().complete()}},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this.hasError,n=this.isStopped,r=this.observers;return e||n?m:(r.push(t),new b((function(){return v(r,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,n=this.thrownError,r=this.isStopped;e?t.error(n):r&&t.complete()},e.prototype.asObservable=function(){var t=new F;return t.source=this,t},e.create=function(t,e){return new dt(t,e)},e}(F),dt=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return o(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:m},e}(ft);const pt=new(function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this.hasError,e=this.thrownError,n=this._value;if(t)throw e;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(ft))(23),_t=document.getElementById("jkonsInvader"),yt=_t.getContext("2d"),vt=new class{constructor(){this.enemies=[]}addEnemy(t){this.enemies.push(t)}addEnemies(t){this.enemies.concat(t)}removeEnemy(t){this.enemies.splice(this.enemies.indexOf(t),1)}moveEnemies(){for(let t=0;t<this.enemies.length;t++)this.enemies[t].moveEnemy()}get getEnemiesY(){const t=[];for(let e=0;e<this.enemies.length;e++)t.push(this.enemies[e].y);return t}},bt=new class{constructor(t){this._zoom=1,this.size=0,this._canvas=t,this.resizeCanvas(),window.addEventListener("resize",()=>{this.resizeCanvas()})}resizeCanvas(){innerHeight<=450?this.zoom=1:innerHeight<=690||innerWidth<=675?this.zoom=2:innerHeight<=915||innerWidth<=900?this.zoom=3:this.zoom=4,this.size=225*this.zoom,this._canvas.width=this.size,this._canvas.height=this.size}set zoom(t){this._zoom=t}get zoom(){return this._zoom}}(_t);yt.imageSmoothingEnabled=!1,pt.subscribe(console.log);let mt,gt=new Array,wt=new Array,xt=!1,St=(document.getElementById("score"),!0);const zt=function(t,e,n){const r=new at(yt),i=new ht(yt,r,t,e,n,bt.zoom);return gt.push(r),wt.push(i),i}("a","d"," "),Et=new r(yt,gt,vt,1,0,0),kt=bt.zoom*Et.tileWidth;function Ct(){document.addEventListener("keyup",t=>{switch(t.key){case"r":!1===xt?(xt=!0,Ot()):Ct();break;default:xt=!1}})}for(let t=0;t<20;t++)vt.addEnemy(new r(yt,gt,vt,bt.zoom,t*kt,0));function It(){}function Ot(){setTimeout(()=>{zt.handleInput(),vt.moveEnemies();for(let t=0;t<gt.length;t++)gt[t].shootAnimation();St&&(mt=requestAnimationFrame(Ot))},1/60)}function Pt(){0}function Tt(){console.log("stop"),St=!1,cancelAnimationFrame(mt);let t=(_t.width-800)/2,e=_t.height/2;yt.font="160px Arial",yt.fillText("Game Over",t,e)}Ct()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZW15LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9jcmVhdGVFcnJvckNsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJyUmVtb3ZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9ub29wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbGlmdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlSW50ZXJuYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL21hcE9uZU9yTWFueUFyZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zaG90LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZW15SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS1zZXR0aW5ncy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbnRleHQiLCJzaG9vdHMiLCJoYW5kbGVyIiwiem9vbSIsIngiLCJ5IiwiX2xpdmUiLCJfc2hlZXQiLCJJbWFnZSIsIl90aWxlRnJhbWVYIiwiX3RpbGVGcmFtZVkiLCJfdGlsZVdpZHRoIiwiX3RpbGVIZWlnaHQiLCJfc3ByaXRlQ2hhbmdlQ291bnRlciIsImdyaWQiLCJ0aGlzIiwiX2NvbnRleHQiLCJfeCIsIl95IiwiX3NwZWVkWCIsIl9zcGVlZFkiLCJfem9vbSIsIl96b29tZWRXaWR0aCIsIl96b29tZWRIZWlnaHQiLCJfc2hvb3RzIiwiX2hhbmRsZXIiLCJfY2FudmFzQ29sbGlzaW9uIiwicmlnaHQiLCJjYW52YXMiLCJ3aWR0aCIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJoZWlnaHQiLCJzcmMiLCJjbGVhclJlY3QiLCJfcmVuZGVyRW5lbXkiLCJkcmF3SW1hZ2UiLCJfaGl0IiwiX3Nwcml0ZUFuaW1hdGlvbiIsIl90cmFuc2xhdGUiLCJfZGVhZCIsIl9nYW1lT3ZlciIsImoiLCJsZW5ndGgiLCJzaG9vdFgiLCJnZXRYIiwic2hvb3RZIiwiZ2V0WSIsImNvbnNvbGUiLCJsb2ciLCJoaXQiLCJzY29yZSIsInJlbW92ZUVuZW15IiwicmFuZG9tWCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRvbVkiLCJnZXRFbmVtaWVzWSIsImZpbmQiLCJzZXRUaW1lb3V0IiwiYWRkRW5lbXkiLCJzdG9wIiwiZXh0ZW5kU3RhdGljcyIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX19leHRlbmRzIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJjb25zdHJ1Y3RvciIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJpdGVyYXRvciIsInYiLCJvcCIsInBvcCIsInB1c2giLCJfX3ZhbHVlcyIsIl9fcmVhZCIsImFyIiwiZXJyb3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwiaWwiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJxIiwiYSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNWYWx1ZXMiLCJpc0Z1bmN0aW9uIiwiY3JlYXRlRXJyb3JDbGFzcyIsImNyZWF0ZUltcGwiLCJjdG9yRnVuYyIsImluc3RhbmNlIiwiRXJyb3IiLCJzdGFjayIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJfc3VwZXIiLCJlcnJvcnMiLCJtZXNzYWdlIiwibWFwIiwiZXJyIiwidG9TdHJpbmciLCJqb2luIiwiYXJyUmVtb3ZlIiwiYXJyIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIlN1YnNjcmlwdGlvbiIsImluaXRpYWxUZWFyZG93biIsImNsb3NlZCIsIl9wYXJlbnRhZ2UiLCJfdGVhcmRvd25zIiwiZW1wdHkiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJpc0FycmF5IiwiX3BhcmVudGFnZV8xIiwiX3BhcmVudGFnZV8xXzEiLCJyZW1vdmUiLCJlXzFfMSIsInJldHVybiIsIl90ZWFyZG93bnNfMSIsIl90ZWFyZG93bnNfMV8xIiwidGVhcmRvd25fMSIsImV4ZWNUZWFyZG93biIsImVfMl8xIiwiYWRkIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIkVNUFRZIiwiRU1QVFlfU1VCU0NSSVBUSU9OIiwiaXNTdWJzY3JpcHRpb24iLCJjb25maWciLCJvblVuaGFuZGxlZEVycm9yIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwidW5kZWZpbmVkIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsInVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCIsInRpbWVvdXRQcm92aWRlciIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImRlbGVnYXRlIiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlIiwicmVwb3J0VW5oYW5kbGVkRXJyb3IiLCJub29wIiwiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwia2luZCIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbiIsIl90aGlzIiwiaXNTdG9wcGVkIiwiRU1QVFlfT0JTRVJWRVIiLCJjb21wbGV0ZSIsImhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24iLCJuZXh0Tm90aWZpY2F0aW9uIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJTYWZlU3Vic2NyaWJlciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dF8xIiwid3JhcEZvckVycm9ySGFuZGxpbmciLCJkZWZhdWx0RXJyb3JIYW5kbGVyIiwiX3N5bmNFcnJvckhhY2tfaXNTdWJzY3JpYmluZyIsIl9fc3luY0Vycm9yIiwibm90aWZpY2F0aW9uIiwic3Vic2NyaWJlciIsIm9ic2VydmFibGUiLCJpZGVudGl0eSIsInBpcGVGcm9tQXJyYXkiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJmbiIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwiaXNPYnNlcnZlciIsIl9kZXByZWNhdGVkU3luY0Vycm9yU3Vic2NyaWJlIiwiX3RyeVN1YnNjcmliZSIsImxvY2FsU3Vic2NyaWJlciIsImRlc3QiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJzdWJzY3JpcHRpb24iLCJwaXBlIiwib3BlcmF0aW9ucyIsInRvUHJvbWlzZSIsIm9wZXJhdGUiLCJpbml0IiwiaGFzTGlmdCIsImxpZnRlZFNvdXJjZSIsIk9wZXJhdG9yU3Vic2NyaWJlciIsIm9uTmV4dCIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25GaW5hbGl6ZSIsInByb2plY3QiLCJpc0FycmF5TGlrZSIsImlzUHJvbWlzZSIsInNjaGVkdWxlQXJyYXkiLCJzY2hlZHVsZXIiLCJzY2hlZHVsZSIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc0l0ZXJhYmxlIiwiaXNBc3luY0l0ZXJhYmxlIiwib2JqIiwiY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IiLCJyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIiwicmVhZGFibGVTdHJlYW0iLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImlubmVyRnJvbSIsIm9icyIsImZyb21BcnJheUxpa2UiLCJwcm9taXNlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJpdGVyYWJsZSIsIml0ZXJhYmxlXzEiLCJpdGVyYWJsZV8xXzEiLCJhcnJheSIsImFzeW5jSXRlcmFibGUiLCJhc3luY0l0ZXJhYmxlXzEiLCJhc3luY0l0ZXJhYmxlXzFfMSIsInByb2Nlc3MiLCJjYXRjaCIsIm1lcmdlTWFwIiwicmVzdWx0U2VsZWN0b3IiLCJjb25jdXJyZW50IiwiSW5maW5pdHkiLCJpaSIsIm9uQmVmb3JlTmV4dCIsImV4cGFuZCIsImlubmVyU3ViU2NoZWR1bGVyIiwiYWRkaXRpb25hbFRlYXJkb3duIiwiYnVmZmVyIiwiYWN0aXZlIiwiaXNDb21wbGV0ZSIsImNoZWNrQ29tcGxldGUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImlubmVyVmFsdWUiLCJfbG9vcF8xIiwiYnVmZmVyZWRWYWx1ZSIsIm1lcmdlSW50ZXJuYWxzIiwibWFwT25lT3JNYW55QXJncyIsImNhbGxPckFwcGx5Iiwibm9kZUV2ZW50RW1pdHRlck1ldGhvZHMiLCJldmVudFRhcmdldE1ldGhvZHMiLCJqcXVlcnlNZXRob2RzIiwiZnJvbUV2ZW50IiwidGFyZ2V0IiwiZXZlbnROYW1lIiwib3B0aW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNFdmVudFRhcmdldCIsIm1ldGhvZE5hbWUiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIiLCJ0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSIsIm9uIiwib2ZmIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInN1YlRhcmdldCIsInNob3QiLCJmaXJlIiwiX3ZlbG9jaXR5IiwicHJlc3NlZF9rZXlzIiwiX2tleWRvd24iLCJkb2N1bWVudCIsIl9rZXlkb3duJCIsImV2ZW50IiwiX2tleXVwIiwiX2tleXVwJCIsImZpbHRlciIsImsiLCJrZXlkb3duU3Vic2NyaXB0aW9uIiwia2V5dXBTdWJzY3JpcHRpb24iLCJfdGlsZVNpemUiLCJfc2hvdCIsIl9sZWZ0IiwiX3JpZ2h0IiwiX2ZpcmUiLCJfem9vbWVkU2l6ZSIsIl9yZW5kZXIiLCJfbW92ZUxlZnQiLCJfbW92ZVJpZ2h0IiwiX2ZpcmVTaG90IiwiX2NsZWFyIiwic2hvb3QiLCJvbmxvYWQiLCJ0aGF0IiwiU2hvdCIsIl9sZW5ndGgiLCJfdGhpY2tuZXNzIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsIlN1YmplY3QiLCJvYnNlcnZlcnMiLCJoYXNFcnJvciIsInRocm93bkVycm9yIiwic3ViamVjdCIsIl90aHJvd0lmQ2xvc2VkIiwiY29weSIsInNsaWNlIiwiY29weV8xIiwiY29weV8xXzEiLCJfY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyIsIl9pbm5lclN1YnNjcmliZSIsImFzT2JzZXJ2YWJsZSIsIkFub255bW91c1N1YmplY3QiLCJCZWhhdmlvclN1YmplY3QiLCJfdmFsdWUiLCJnZXRWYWx1ZSIsImNvbmZpZ3VyYWJsZSIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImVuZW15SGFuZGxlciIsImVuZW1pZXMiLCJlbmVteSIsImNvbmNhdCIsIm1vdmVFbmVteSIsInlMaXN0Iiwic2V0dGluZ3MiLCJzaXplIiwiX2NhbnZhcyIsInJlc2l6ZUNhbnZhcyIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImFuaW1hdGlvbiIsInNob3RzIiwicGxheWVycyIsImdhbWVTdGFydGVkIiwiYW5pbWF0aW9uQWN0aXZlIiwicGxheWVyIiwibmV3UGxheWVyIiwic3BhY2VCZXR3ZWVuIiwidGlsZVdpZHRoIiwia2V5Ym9hcmQiLCJhbmltYXRlIiwiZ2FtZU92ZXIiLCJoYW5kbGVJbnB1dCIsIm1vdmVFbmVtaWVzIiwic2hvb3RBbmltYXRpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhY3R1YWxTY29yZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZm9udHNpemUiLCJmb250IiwiZmlsbFRleHQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFF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L1gsTUFNVixPQUhBd1ksR0FBTWxTLEtBQUsyTixHQUNYd0UsR0FBUW5TLEtBQUtzUyxHQUVOQSxFQTlET0MsQ0FBVSxJQUFLLElBQUssS0FFN0JsQixHQUFlLElBQUksRUFBTSxHQUFTYSxHQUFPZixHQUFjLEVBQUcsRUFBRyxHQUM3RHFCLEdBQWVmLEdBQVMvWCxLQUFPMlgsR0FBTW9CLFVBQ3BDLFNBQVMvSixLQUNmc0YsU0FBU2pCLGlCQUFpQixRQUFVMkYsSUFDbkMsT0FBUUEsRUFBUzVaLEtBQ2hCLElBQUssS0FDZ0IsSUFBaEJzWixJQUNIQSxJQUFjLEVBQ2RPLE1BRUFqSyxLQUVELE1BRUQsUUFDQzBKLElBQWMsS0FLbEIsSUFBSyxJQUFJN2EsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3ZCNFosR0FBYTlULFNBQ1osSUFBSSxFQUFNLEdBQVM2VSxHQUFPZixHQUFjTSxHQUFTL1gsS0FBTW5DLEVBQUlpYixHQUFjLElBSXBFLFNBQVNJLE1BRWhCLFNBQVNELEtBQ1J2VixXQUFXLEtBQ1YsR0FBT3lWLGNBQ1AxQixHQUFhMkIsY0FDYixJQUFLLElBQUk1VyxFQUFJLEVBQUdBLEVBQUlnVyxHQUFNL1YsT0FBUUQsSUFDakNnVyxHQUFNaFcsR0FBRzZXLGlCQUVOVixLQUNISixHQUFZZSxzQkFBc0JMLE1BeENSLEVBQUksSUE2QzFCLFNBQVNoVyxLQUNmc1csRUFxQk0sU0FBUzNWLEtBQ2ZkLFFBQVFDLElBQUksUUFDWjRWLElBQWtCLEVBQ2xCYSxxQkFBcUJqQixJQUNyQixJQUNJdFksR0FBS3dCLEdBQU9DLE1BQVErWCxLQUFnQixFQUNwQ3ZaLEVBQUl1QixHQUFPSyxPQUFTLEVBQ3hCLEdBQVE0WCxLQUFPLGNBQ2YsR0FBUUMsU0FBUyxZQUFhMVosRUFBR0MsR0FHbEM4TyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJpbXBvcnQgeyBFbmVteUhhbmRsZXIgfSBmcm9tIFwiLi9lbmVteUhhbmRsZXJcIjtcbmltcG9ydCB7IHNjb3JlLCBzdG9wIH0gZnJvbSBcIi4vbWFpblwiO1xuaW1wb3J0IHsgU2hvdCB9IGZyb20gXCIuL3Nob3RcIjtcblxuZXhwb3J0IGNsYXNzIEVuZW15IHtcblx0cHJpdmF0ZSBfY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXHRwcml2YXRlIF9saXZlOiBudW1iZXIgPSAxO1xuXHRwcml2YXRlIF9zaG9vdHM6IEFycmF5PFNob3Q+O1xuXHRwcml2YXRlIF9oYW5kbGVyOiBFbmVteUhhbmRsZXI7XG5cblx0Ly8gVE9ETyBtYXliZSBhIHRpbGUgc2VydmljZVxuXHRwcml2YXRlIF9zaGVldCA9IG5ldyBJbWFnZSgpO1xuXHRwcml2YXRlIF90aWxlRnJhbWVYID0gMDtcblx0cHJpdmF0ZSBfdGlsZUZyYW1lWSA9IDI7XG5cdC8vIFRPRE8gZ2V0IHRpbGUgZnJvbSB0aWxlIGNvbmZpZ1xuXHRwcml2YXRlIF90aWxlV2lkdGg6IG51bWJlciA9IDk7XG5cdHByaXZhdGUgX3RpbGVIZWlnaHQ6IG51bWJlciA9IDk7XG5cdHByaXZhdGUgX3Nwcml0ZUNoYW5nZUNvdW50ZXIgPSAwO1xuXHRwcml2YXRlIF96b29tOiBudW1iZXI7XG5cdHByaXZhdGUgX3pvb21lZFdpZHRoOiBudW1iZXI7XG5cdHByaXZhdGUgX3pvb21lZEhlaWdodDogbnVtYmVyO1xuXG5cdHByaXZhdGUgX3g6IG51bWJlcjtcblx0cHJpdmF0ZSBfeTogbnVtYmVyO1xuXHRwcml2YXRlIF9zcGVlZFg6IG51bWJlcjtcblx0cHJpdmF0ZSBfc3BlZWRZOiBudW1iZXI7XG5cblx0cHJpdmF0ZSBfY2FudmFzQ29sbGlzaW9uOiB7XG5cdFx0cmlnaHQ6IG51bWJlcjtcblx0XHRsZWZ0OiBudW1iZXI7XG5cdFx0dG9wOiBudW1iZXI7XG5cdFx0Ym90dG9tOiBudW1iZXI7XG5cdH07XG5cblx0Z3JpZCA9IDkwMDtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG5cdFx0c2hvb3RzOiBBcnJheTxTaG90Pixcblx0XHRoYW5kbGVyOiBFbmVteUhhbmRsZXIsXG5cdFx0em9vbTogbnVtYmVyLFxuXHRcdHg6IG51bWJlcixcblx0XHR5OiBudW1iZXJcblx0KSB7XG5cdFx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl9zcGVlZFggPSA1O1xuXHRcdHRoaXMuX3NwZWVkWSA9IDM1O1xuXHRcdHRoaXMuX3pvb20gPSB6b29tO1xuXHRcdHRoaXMuX3pvb21lZFdpZHRoID0gdGhpcy5fdGlsZVdpZHRoICogdGhpcy5fem9vbTtcblx0XHR0aGlzLl96b29tZWRIZWlnaHQgPSB0aGlzLl90aWxlSGVpZ2h0ICogdGhpcy5fem9vbTtcblx0XHR0aGlzLl9zaG9vdHMgPSBzaG9vdHM7XG5cdFx0dGhpcy5faGFuZGxlciA9IGhhbmRsZXI7XG5cblx0XHR0aGlzLl9jYW52YXNDb2xsaXNpb24gPSB7XG5cdFx0XHRyaWdodDogdGhpcy5fY29udGV4dC5jYW52YXMud2lkdGggLSB0aGlzLl96b29tZWRXaWR0aCxcblx0XHRcdGxlZnQ6IDAsXG5cdFx0XHR0b3A6IDAsXG5cdFx0XHRib3R0b206IHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCAtIHRoaXMuX3pvb21lZEhlaWdodCAqIDIsXG5cdFx0fTtcblx0XHR0aGlzLl9zaGVldC5zcmMgPSBcIi4uL2ltZy9qaS1zaGVldC5wbmdcIjtcblx0fVxuXG5cdHByaXZhdGUgX3RyYW5zbGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuXHRcdHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KFxuXHRcdFx0dGhpcy5feCxcblx0XHRcdHRoaXMuX3ksXG5cdFx0XHR0aGlzLl96b29tZWRXaWR0aCxcblx0XHRcdHRoaXMuX3pvb21lZEhlaWdodFxuXHRcdCk7XG5cdFx0dGhpcy5feCArPSB4O1xuXHRcdHRoaXMuX3kgKz0geTtcblx0XHR0aGlzLl9yZW5kZXJFbmVteSgpO1xuXHR9XG5cdC8vIFJlbmRlciBlbmVteVxuXHRwcml2YXRlIF9yZW5kZXJFbmVteSgpOiB2b2lkIHtcblx0XHR0aGlzLl9jb250ZXh0LmRyYXdJbWFnZShcblx0XHRcdHRoaXMuX3NoZWV0LFxuXHRcdFx0dGhpcy5fdGlsZVdpZHRoICogdGhpcy5fdGlsZUZyYW1lWCxcblx0XHRcdHRoaXMuX3RpbGVXaWR0aCAqIHRoaXMuX3RpbGVGcmFtZVksXG5cdFx0XHR0aGlzLl90aWxlV2lkdGgsXG5cdFx0XHR0aGlzLl90aWxlV2lkdGgsXG5cdFx0XHR0aGlzLl94LFxuXHRcdFx0dGhpcy5feSxcblx0XHRcdHRoaXMuX3pvb21lZFdpZHRoLFxuXHRcdFx0dGhpcy5fem9vbWVkSGVpZ2h0XG5cdFx0KTtcblx0fVxuXG5cdHB1YmxpYyBtb3ZlRW5lbXkoKSB7XG5cdFx0Ly8gY2hlY2sgaGl0IGZ1bmN0aW9uXG5cdFx0dGhpcy5faGl0KCk7XG5cdFx0dGhpcy5fc3ByaXRlQW5pbWF0aW9uKCk7XG5cdFx0aWYgKFxuXHRcdFx0KHRoaXMuX3NwZWVkWCA+IDAgJiYgdGhpcy5feCA8PSB0aGlzLl9jYW52YXNDb2xsaXNpb24ucmlnaHQpIHx8XG5cdFx0XHQodGhpcy5fc3BlZWRYIDwgMCAmJiB0aGlzLl94ID49IHRoaXMuX2NhbnZhc0NvbGxpc2lvbi5sZWZ0KVxuXHRcdCkge1xuXHRcdFx0dGhpcy5fdHJhbnNsYXRlKHRoaXMuX3NwZWVkWCwgMCk7XG5cdFx0fVxuXHRcdGlmIChcblx0XHRcdCh0aGlzLl9zcGVlZFggPiAwICYmIHRoaXMuX3ggPj0gdGhpcy5fY2FudmFzQ29sbGlzaW9uLnJpZ2h0KSB8fFxuXHRcdFx0KHRoaXMuX3NwZWVkWCA8IDAgJiYgdGhpcy5feCA8PSB0aGlzLl9jYW52YXNDb2xsaXNpb24ubGVmdClcblx0XHQpIHtcblx0XHRcdHRoaXMuX3NwZWVkWCA9IC10aGlzLl9zcGVlZFg7XG5cdFx0XHR0aGlzLl90cmFuc2xhdGUoMCwgdGhpcy5fc3BlZWRZKTtcblx0XHR9XG5cdFx0dGhpcy5fZGVhZCgpO1xuXHRcdHRoaXMuX2dhbWVPdmVyKCk7XG5cdH1cblxuXHRwcml2YXRlIF9zcHJpdGVBbmltYXRpb24oKSB7XG5cdFx0Ly8gY291bnQncyB1cCB0aWxsIGEgc3BlY2lmaWVkIG51bWJlciwgdGhlbiByZXNldFxuXHRcdGlmICh0aGlzLl9zcHJpdGVDaGFuZ2VDb3VudGVyID49IDUwKSB7XG5cdFx0XHR0aGlzLl9zcHJpdGVDaGFuZ2VDb3VudGVyID0gMDtcblx0XHRcdC8vIGNoYW5nZSBjdXJyZW50IGZyYW1lXG5cdFx0XHRpZiAodGhpcy5fdGlsZUZyYW1lWCA8IDEpIHRoaXMuX3RpbGVGcmFtZVgrKztcblx0XHRcdGVsc2UgdGhpcy5fdGlsZUZyYW1lWCA9IDA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3Nwcml0ZUNoYW5nZUNvdW50ZXIrKztcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9oaXQoKSB7XG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9zaG9vdHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGxldCBzaG9vdFggPSB0aGlzLl9zaG9vdHNbal0uZ2V0WDtcblx0XHRcdGxldCBzaG9vdFkgPSB0aGlzLl9zaG9vdHNbal0uZ2V0WTtcblx0XHRcdGlmIChcblx0XHRcdFx0c2hvb3RZID4gdGhpcy5feSAmJlxuXHRcdFx0XHRzaG9vdFkgPD0gdGhpcy5feSArIHRoaXMuX3pvb21lZEhlaWdodCAmJlxuXHRcdFx0XHRzaG9vdFggPj0gdGhpcy5feCAmJlxuXHRcdFx0XHRzaG9vdFggPD0gdGhpcy5feCArIHRoaXMuX3pvb21lZFdpZHRoXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJISVRcIik7XG5cdFx0XHRcdHRoaXMuX3Nob290c1tqXS5oaXQoKTtcblx0XHRcdFx0dGhpcy5fbGl2ZS0tO1xuXHRcdFx0XHRzY29yZSgpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fc2hvb3RzW2pdLmdldFg7XG5cdFx0fVxuXHR9XG5cdHByaXZhdGUgX2RlYWQoKSB7XG5cdFx0aWYgKHRoaXMuX2xpdmUgPD0gMCkge1xuXHRcdFx0dGhpcy5faGFuZGxlci5yZW1vdmVFbmVteSh0aGlzKTtcblx0XHRcdHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KFxuXHRcdFx0XHR0aGlzLl94LFxuXHRcdFx0XHR0aGlzLl95LFxuXHRcdFx0XHR0aGlzLl96b29tZWRXaWR0aCxcblx0XHRcdFx0dGhpcy5fem9vbWVkSGVpZ2h0XG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgcmFuZG9tWCA9XG5cdFx0XHRcdE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCAvIDkpKSAqIDk7XG5cdFx0XHRsZXQgcmFuZG9tWSA9IE1hdGguZmxvb3IoXG5cdFx0XHRcdE1hdGgucmFuZG9tKCkgKiAodGhpcy5fY2FudmFzQ29sbGlzaW9uLmJvdHRvbSAvIDkpICogOVxuXHRcdFx0KTtcblx0XHRcdHdoaWxlIChcblx0XHRcdFx0dGhpcy5faGFuZGxlci5nZXRFbmVtaWVzWS5maW5kKCh5KSA9PiB7XG5cdFx0XHRcdFx0cmFuZG9tWSA+PSB5ICYmIHJhbmRvbVkgPD0gcmFuZG9tWSArIHRoaXMuX3pvb21lZEhlaWdodDtcblx0XHRcdFx0fSlcblx0XHRcdCkge1xuXHRcdFx0XHRyYW5kb21ZID1cblx0XHRcdFx0XHRNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0IC8gOSkpICogOTtcblx0XHRcdH1cblxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuX2hhbmRsZXIuYWRkRW5lbXkoXG5cdFx0XHRcdFx0bmV3IEVuZW15KFxuXHRcdFx0XHRcdFx0dGhpcy5fY29udGV4dCxcblx0XHRcdFx0XHRcdHRoaXMuX3Nob290cyxcblx0XHRcdFx0XHRcdHRoaXMuX2hhbmRsZXIsXG5cdFx0XHRcdFx0XHR0aGlzLl96b29tLFxuXHRcdFx0XHRcdFx0cmFuZG9tWCxcblx0XHRcdFx0XHRcdHJhbmRvbVlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cdFx0XHR9LCAxMDAwMCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIHRoZSBHYW1lIE92ZXIgZnVuY3Rpb24gaXMgY2FsZWQgZHVyaW5nIHRoZSBlbmVteSBtb3ZlbWVudC5cblx0ICogaXQgc3RvcHMgdGhlIGFuaW1hdGlvblxuXHQgKi9cblx0cHJpdmF0ZSBfZ2FtZU92ZXIoKSB7XG5cdFx0aWYgKHRoaXMuX3kgPiB0aGlzLl9jYW52YXNDb2xsaXNpb24uYm90dG9tKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcImZpbmlzaFwiKTtcblx0XHRcdHN0b3AoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgZ2V0IHpvb20oKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fem9vbTtcblx0fVxuXG5cdHB1YmxpYyBnZXQgdGlsZVdpZHRoKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3RpbGVXaWR0aDtcblx0fVxuXG5cdHB1YmxpYyBnZXQgdGlsZUhlaWdodCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl90aWxlSGVpZ2h0O1xuXHR9XG5cblx0cHVibGljIGdldCB5KCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3k7XG5cdH1cbn1cbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcclxuICAgICAgICB0b1tqXSA9IGZyb21baV07XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yQ2xhc3MoY3JlYXRlSW1wbCkge1xuICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgfTtcbiAgICB2YXIgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIGN0b3JGdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JGdW5jO1xuICAgIHJldHVybiBjdG9yRnVuYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUVycm9yQ2xhc3MuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGFyclJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyclJlbW92ZS5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXksIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xuICAgICAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IGluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGVhcmRvd25zID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxUZWFyZG93biA9IHRoaXMuaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaW5pdGlhbFRlYXJkb3duKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxUZWFyZG93bigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfdGVhcmRvd25zID0gdGhpcy5fdGVhcmRvd25zO1xuICAgICAgICAgICAgaWYgKF90ZWFyZG93bnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZWFyZG93bnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF90ZWFyZG93bnNfMSA9IF9fdmFsdWVzKF90ZWFyZG93bnMpLCBfdGVhcmRvd25zXzFfMSA9IF90ZWFyZG93bnNfMS5uZXh0KCk7ICFfdGVhcmRvd25zXzFfMS5kb25lOyBfdGVhcmRvd25zXzFfMSA9IF90ZWFyZG93bnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZWFyZG93bl8xID0gX3RlYXJkb3duc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNUZWFyZG93bih0ZWFyZG93bl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgIT09IG51bGwgJiYgZXJyb3JzICE9PSB2b2lkIDAgPyBlcnJvcnMgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RlYXJkb3duc18xXzEgJiYgIV90ZWFyZG93bnNfMV8xLmRvbmUgJiYgKF9iID0gX3RlYXJkb3duc18xLnJldHVybikpIF9iLmNhbGwoX3RlYXJkb3duc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRlYXJkb3duICYmIHRlYXJkb3duICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjVGVhcmRvd24odGVhcmRvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93bi5jbG9zZWQgfHwgdGVhcmRvd24uX2hhc1BhcmVudCh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRlYXJkb3duLl9hZGRQYXJlbnQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICh0aGlzLl90ZWFyZG93bnMgPSAoX2EgPSB0aGlzLl90ZWFyZG93bnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICAgIGFyclJlbW92ZShfcGFyZW50YWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX3RlYXJkb3ducyA9IHRoaXMuX3RlYXJkb3ducztcbiAgICAgICAgX3RlYXJkb3ducyAmJiBhcnJSZW1vdmUoX3RlYXJkb3ducywgdGVhcmRvd24pO1xuICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRlYXJkb3duLl9yZW1vdmVQYXJlbnQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbXB0eSA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0pKCk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmV4cG9ydCB2YXIgRU1QVFlfU1VCU0NSSVBUSU9OID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbiB8fFxuICAgICAgICAodmFsdWUgJiYgJ2Nsb3NlZCcgaW4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5yZW1vdmUpICYmIGlzRnVuY3Rpb24odmFsdWUuYWRkKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnVuc3Vic2NyaWJlKSkpO1xufVxuZnVuY3Rpb24gZXhlY1RlYXJkb3duKHRlYXJkb3duKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odGVhcmRvd24pKSB7XG4gICAgICAgIHRlYXJkb3duKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0ZWFyZG93bi51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5leHBvcnQgdmFyIHRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0VGltZW91dCkgfHwgc2V0VGltZW91dCkuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKTtcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhclRpbWVvdXQpIHx8IGNsZWFyVGltZW91dCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnIpIHtcbiAgICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gY29uZmlnLm9uVW5oYW5kbGVkRXJyb3I7XG4gICAgICAgIGlmIChvblVuaGFuZGxlZEVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydFVuaGFuZGxlZEVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsImV4cG9ydCB2YXIgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcywgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24sIFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IHJlcG9ydFVuaGFuZGxlZEVycm9yIH0gZnJvbSAnLi91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBuZXh0Tm90aWZpY2F0aW9uLCBlcnJvck5vdGlmaWNhdGlvbiwgQ09NUExFVEVfTk9USUZJQ0FUSU9OIH0gZnJvbSAnLi9Ob3RpZmljYXRpb25GYWN0b3JpZXMnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbnZhciBTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgICAgICBpZiAoaXNTdWJzY3JpcHRpb24oZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIChuZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dCwgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvciwgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSk7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xO1xuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gbmV4dCA9PT0gbnVsbCB8fCBuZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXh0LmJpbmQoY29udGV4dF8xKTtcbiAgICAgICAgICAgIGVycm9yID0gZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLmJpbmQoY29udGV4dF8xKTtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gY29tcGxldGUgPT09IG51bGwgfHwgY29tcGxldGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBsZXRlLmJpbmQoY29udGV4dF8xKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IHtcbiAgICAgICAgICAgIG5leHQ6IG5leHQgPyB3cmFwRm9yRXJyb3JIYW5kbGluZyhuZXh0LCBfdGhpcykgOiBub29wLFxuICAgICAgICAgICAgZXJyb3I6IHdyYXBGb3JFcnJvckhhbmRsaW5nKGVycm9yICE9PSBudWxsICYmIGVycm9yICE9PSB2b2lkIDAgPyBlcnJvciA6IGRlZmF1bHRFcnJvckhhbmRsZXIsIF90aGlzKSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSA/IHdyYXBGb3JFcnJvckhhbmRsaW5nKGNvbXBsZXRlLCBfdGhpcykgOiBub29wLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbmZ1bmN0aW9uIHdyYXBGb3JFcnJvckhhbmRsaW5nKGhhbmRsZXIsIGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaGFuZGxlci5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5fc3luY0Vycm9ySGFja19pc1N1YnNjcmliaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl9fc3luY0Vycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gZGVmYXVsdEVycm9ySGFuZGxlcihlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG59XG5mdW5jdGlvbiBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcikge1xuICAgIHZhciBvblN0b3BwZWROb3RpZmljYXRpb24gPSBjb25maWcub25TdG9wcGVkTm90aWZpY2F0aW9uO1xuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiAmJiB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBvblN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKTsgfSk7XG59XG5leHBvcnQgdmFyIEVNUFRZX09CU0VSVkVSID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBub29wLFxuICAgIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICAgIGNvbXBsZXRlOiBub29wLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlKSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcCIsImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwIiwiaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbnZhciBPYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gaXNTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0KSA/IG9ic2VydmVyT3JOZXh0IDogbmV3IFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlcHJlY2F0ZWRTeW5jRXJyb3JTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBvcGVyYXRvciA9IF9hLm9wZXJhdG9yLCBzb3VyY2UgPSBfYS5zb3VyY2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChvcGVyYXRvclxuICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCBzb3VyY2UpXG4gICAgICAgICAgICAgICAgOiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fZGVwcmVjYXRlZFN5bmNFcnJvclN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsb2NhbFN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgICAgICBsb2NhbFN1YnNjcmliZXIuX3N5bmNFcnJvckhhY2tfaXNTdWJzY3JpYmluZyA9IHRydWU7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IHRoaXMub3BlcmF0b3I7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQob3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCB0aGlzLnNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZCh0aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGxvY2FsU3Vic2NyaWJlci5fX3N5bmNFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVzdCA9IGxvY2FsU3Vic2NyaWJlcjtcbiAgICAgICAgd2hpbGUgKGRlc3QpIHtcbiAgICAgICAgICAgIGlmICgnX19zeW5jRXJyb3InIGluIGRlc3QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBkZXN0Ll9fc3luY0Vycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3QgPSBkZXN0LmRlc3RpbmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGxvY2FsU3Vic2NyaWJlci5fc3luY0Vycm9ySGFja19pc1N1YnNjcmliaW5nID0gZmFsc2U7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9PT0gbnVsbCB8fCBzdWJzY3JpcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdGlvbnMubGVuZ3RoID8gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKSA6IHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiAodmFsdWUgPSB4KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gcHJvbWlzZUN0b3IgIT09IG51bGwgJiYgcHJvbWlzZUN0b3IgIT09IHZvaWQgMCA/IHByb21pc2VDdG9yIDogY29uZmlnLlByb21pc2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFByb21pc2U7XG59XG5mdW5jdGlvbiBpc09ic2VydmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUubmV4dCkgJiYgaXNGdW5jdGlvbih2YWx1ZS5lcnJvcikgJiYgaXNGdW5jdGlvbih2YWx1ZS5jb21wbGV0ZSk7XG59XG5mdW5jdGlvbiBpc1N1YnNjcmliZXIodmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaWJlcikgfHwgKGlzT2JzZXJ2ZXIodmFsdWUpICYmIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmxpZnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGUoaW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAobGlmdGVkU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQobGlmdGVkU291cmNlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbnZhciBPcGVyYXRvclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPcGVyYXRvclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uRmluYWxpemUgPSBvbkZpbmFsaXplO1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG9uTmV4dFxuICAgICAgICAgICAgPyBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbk5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9uZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBvbkVycm9yXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2Vycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBvbkNvbXBsZXRlXG4gICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9wZXJhdG9yU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGNsb3NlZCA9IHRoaXMuY2xvc2VkO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICFjbG9zZWQgJiYgKChfYSA9IHRoaXMub25GaW5hbGl6ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcykpO1xuICAgIH07XG4gICAgcmV0dXJuIE9wZXJhdG9yU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVyYXRvclN1YnNjcmliZXIuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUobmV3IE9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChwcm9qZWN0LmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyspKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcCIsImV4cG9ydCB2YXIgaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5TGlrZS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vaXNGdW5jdGlvblwiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS50aGVuKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XG59XG5leHBvcnQgdmFyIGl0ZXJhdG9yID0gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcCIsImltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlcmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXRbU3ltYm9sX2l0ZXJhdG9yXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZShvYmopIHtcbiAgICByZXR1cm4gU3ltYm9sLmFzeW5jSXRlcmF0b3IgJiYgaXNGdW5jdGlvbihvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBwcm92aWRlZCBcIiArIChpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgaW5wdXQgKyBcIidcIikgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBSZWFkYWJsZVN0cmVhbSwgQXJyYXksIEFzeW5jSXRlcmFibGUsIG9yIEl0ZXJhYmxlLlwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93VW5vYnNlcnZhYmxlRXJyb3IuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY0dlbmVyYXRvciwgX19hd2FpdCwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3JfMSgpIHtcbiAgICAgICAgdmFyIHJlYWRlciwgX2EsIHZhbHVlLCBkb25lO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSByZWFkYWJsZVN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpLCB2YWx1ZSA9IF9hLnZhbHVlLCBkb25lID0gX2EuZG9uZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQodm9pZCAwKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzQsIF9fYXdhaXQodmFsdWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNCwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAyXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jVmFsdWVzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuLi91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSwgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikgOiBpbm5lckZyb20oaW5wdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlubmVyRnJvbShpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Qcm9taXNlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tSXRlcmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCk7XG59XG5mdW5jdGlvbiBmcm9tSW50ZXJvcE9ic2VydmFibGUob2JqKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9icy5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZScpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21BcnJheUxpa2UoYXJyYXkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZnJvbUl0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlcmFibGVfMSA9IF9fdmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCk7ICFpdGVyYWJsZV8xXzEuZG9uZTsgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhYmxlXzFfMSAmJiAhaXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gaXRlcmFibGVfMS5yZXR1cm4pKSBfYS5jYWxsKGl0ZXJhYmxlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZyb21Bc3luY0l0ZXJhYmxlKGFzeW5jSXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSk7XG59XG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgYXN5bmNJdGVyYWJsZV8xLCBhc3luY0l0ZXJhYmxlXzFfMTtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgZV8yXzE7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFs0LCBhc3luY0l0ZXJhYmxlXzEubmV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xID0gX2Iuc2VudCgpLCAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXN5bmNJdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzMsIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgJiYgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gYXN5bmNJdGVyYWJsZV8xLnJldHVybikpKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLmNhbGwoYXN5bmNJdGVyYWJsZV8xKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbWVyZ2VJbnRlcm5hbHMgfSBmcm9tICcuL21lcmdlSW50ZXJuYWxzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICBpZiAoaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKGlubmVyRnJvbShwcm9qZWN0KGEsIGkpKSk7IH0sIGNvbmN1cnJlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikgeyByZXR1cm4gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcC5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCwgb25CZWZvcmVOZXh0LCBleHBhbmQsIGlubmVyU3ViU2NoZWR1bGVyLCBhZGRpdGlvbmFsVGVhcmRvd24pIHtcbiAgICB2YXIgYnVmZmVyID0gW107XG4gICAgdmFyIGFjdGl2ZSA9IDA7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSAmJiAhYnVmZmVyLmxlbmd0aCAmJiAhYWN0aXZlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBvdXRlck5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIChhY3RpdmUgPCBjb25jdXJyZW50ID8gZG9Jbm5lclN1Yih2YWx1ZSkgOiBidWZmZXIucHVzaCh2YWx1ZSkpOyB9O1xuICAgIHZhciBkb0lubmVyU3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGV4cGFuZCAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICBhY3RpdmUrKztcbiAgICAgICAgdmFyIGlubmVyQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUobmV3IE9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICAgICAgb25CZWZvcmVOZXh0ID09PSBudWxsIHx8IG9uQmVmb3JlTmV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25CZWZvcmVOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgaWYgKGV4cGFuZCkge1xuICAgICAgICAgICAgICAgIG91dGVyTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5uZXJDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGlubmVyQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUtLTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyZWRWYWx1ZSA9IGJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJTdWJTY2hlZHVsZXIgPyBzdWJzY3JpYmVyLmFkZChpbm5lclN1YlNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpOyB9KSkgOiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYnVmZmVyLmxlbmd0aCAmJiBhY3RpdmUgPCBjb25jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8xKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHNvdXJjZS5zdWJzY3JpYmUobmV3IE9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvdXRlck5leHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkaXRpb25hbFRlYXJkb3duID09PSBudWxsIHx8IGFkZGl0aW9uYWxUZWFyZG93biA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRkaXRpb25hbFRlYXJkb3duKCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlSW50ZXJuYWxzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSBcIi4uL29wZXJhdG9ycy9tYXBcIjtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYXJncykgPyBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpIDogZm4oYXJncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwT25lT3JNYW55QXJncyhmbikge1xuICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGNhbGxPckFwcGx5KGZuLCBhcmdzKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG5pbXBvcnQgeyBpbnRlcm5hbEZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbnZhciBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyA9IFsnYWRkTGlzdGVuZXInLCAncmVtb3ZlTGlzdGVuZXInXTtcbnZhciBldmVudFRhcmdldE1ldGhvZHMgPSBbJ2FkZEV2ZW50TGlzdGVuZXInLCAncmVtb3ZlRXZlbnRMaXN0ZW5lciddO1xudmFyIGpxdWVyeU1ldGhvZHMgPSBbJ29uJywgJ29mZiddO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucywgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKS5waXBlKG1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9XG4gICAgdmFyIF9hID0gX19yZWFkKGlzRXZlbnRUYXJnZXQodGFyZ2V0KVxuICAgICAgICA/IGV2ZW50VGFyZ2V0TWV0aG9kcy5tYXAoZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHsgcmV0dXJuIGZ1bmN0aW9uIChoYW5kbGVyKSB7IHJldHVybiB0YXJnZXRbbWV0aG9kTmFtZV0oZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTsgfTsgfSlcbiAgICAgICAgOlxuICAgICAgICAgICAgaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KVxuICAgICAgICAgICAgICAgID8gbm9kZUV2ZW50RW1pdHRlck1ldGhvZHMubWFwKHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICA6IGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICA/IGpxdWVyeU1ldGhvZHMubWFwKHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgOiBbXSwgMiksIGFkZCA9IF9hWzBdLCByZW1vdmUgPSBfYVsxXTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2UodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uIChzdWJUYXJnZXQpIHsgcmV0dXJuIGZyb21FdmVudChzdWJUYXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucyk7IH0pKGludGVybmFsRnJvbUFycmF5KHRhcmdldCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYWRkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyLm5leHQoMSA8IGFyZ3MubGVuZ3RoID8gYXJncyA6IGFyZ3NbMF0pO1xuICAgICAgICB9O1xuICAgICAgICBhZGQoaGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiByZW1vdmUoaGFuZGxlcik7IH07XG4gICAgfSk7XG59XG5mdW5jdGlvbiB0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIpOyB9OyB9O1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZExpc3RlbmVyKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5yZW1vdmVMaXN0ZW5lcik7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHRhcmdldC5vbikgJiYgaXNGdW5jdGlvbih0YXJnZXQub2ZmKTtcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBmcm9tQXJyYXlMaWtlIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcm5hbEZyb21BcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikgOiBmcm9tQXJyYXlMaWtlKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21BcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBmcm9tRXZlbnQsIE9ic2VydmFibGUgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XG5pbXBvcnQgeyBTaG90IH0gZnJvbSBcIi4vc2hvdFwiO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcblx0Ly8gY2FudmFzIGNvbnRleHQgZm9yIGRyYXdpbmcgc2hhcGVzXG5cdHByaXZhdGUgX2NvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuXHRwcml2YXRlIF9zaG90OiBTaG90O1xuXG5cdC8vIGNvbXBsZXRlIHRpbGUgc2hlZXRcblx0cHJpdmF0ZSBfc2hlZXQgPSBuZXcgSW1hZ2UoKTtcblxuXHQvLyBjb250cm9sIGtleXMgZm9yIG1vdmluZyBsZWZ0IGFuZCByaWdodCBhbmQgZmlyZSBhIHNob3Rcblx0cHJpdmF0ZSBfbGVmdDogc3RyaW5nO1xuXHRwcml2YXRlIF9yaWdodDogc3RyaW5nO1xuXHRwcml2YXRlIF9maXJlOiBzdHJpbmc7XG5cblx0Ly8gcGxheWVyIGNvb3JkaW5hdGVzIGFuZCB2ZWxvY2l0eVxuXHRwcml2YXRlIF94OiBudW1iZXI7XG5cdHByaXZhdGUgX3k6IG51bWJlcjtcblx0cHJpdmF0ZSBfdmVsb2NpdHk6IG51bWJlciA9IDQ7XG5cblx0Ly8gc2F2ZSBhIGxpc3Qgb2YgcHJlc3NlZCBrZXlzIHRvIGFsbG93IG11bHRpcGxlIHByZXNzZWQga2V5cyBhdCB0aGUgc2FtZSB0aW1lXG5cdHByaXZhdGUgcHJlc3NlZF9rZXlzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdC8vIHJlY29nbml6ZSB3aGVuIGEga2V5IGlzIGRvd24gb24gdGhlIGtleWJvYXJkXG5cdHByaXZhdGUgX2tleWRvd24gPSBmcm9tRXZlbnQ8S2V5Ym9hcmRFdmVudD4oZG9jdW1lbnQsIFwia2V5ZG93blwiKTtcblx0cHJpdmF0ZSBfa2V5ZG93biQ6IE9ic2VydmFibGU8dm9pZD4gPSB0aGlzLl9rZXlkb3duLnBpcGUoXG5cdFx0bWFwKChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdFx0Ly8gYWRkIGtleSB0byBwcmVzc2VkIGtleXMgd2hlbiBwcmVzc2VkXG5cdFx0XHR0aGlzLnByZXNzZWRfa2V5cy5wdXNoKGV2ZW50LmtleSk7XG5cdFx0fSlcblx0KTtcblxuXHQvLyByZWNvZ25pemUgd2hlbiBhIGtleSBpcyB1cCBhZnRlciBhIGtleSB3YXMgZG93biBvbiB0aGUga2V5Ym9hcmRcblx0cHJpdmF0ZSBfa2V5dXAgPSBmcm9tRXZlbnQ8S2V5Ym9hcmRFdmVudD4oZG9jdW1lbnQsIFwia2V5dXBcIik7XG5cdHByaXZhdGUgX2tleXVwJDogT2JzZXJ2YWJsZTx2b2lkPiA9IHRoaXMuX2tleXVwLnBpcGUoXG5cdFx0bWFwKChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdFx0Ly8gcmVtb3ZlIGtleSBmcm9tIHByZXNzZWQga2V5cyB3aGVuIG5vdCBwcmVzc2VkIGFueW1vcmVcblx0XHRcdHRoaXMucHJlc3NlZF9rZXlzID0gdGhpcy5wcmVzc2VkX2tleXMuZmlsdGVyKChrKSA9PiBrICE9PSBldmVudC5rZXkpO1xuXHRcdH0pXG5cdCk7XG5cblx0a2V5ZG93blN1YnNjcmlwdGlvbiA9IHRoaXMuX2tleWRvd24kLnN1YnNjcmliZSgpO1xuXHRrZXl1cFN1YnNjcmlwdGlvbiA9IHRoaXMuX2tleXVwJC5zdWJzY3JpYmUoKTtcblxuXHQvLyB0aWxlIHNldHRpbmdzXG5cdHByaXZhdGUgX3pvb21lZFNpemU6IG51bWJlcjtcblx0cHJpdmF0ZSBfdGlsZVNpemU6IG51bWJlciA9IDk7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0Y29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuXHRcdHNob3Q6IFNob3QsXG5cdFx0bGVmdDogc3RyaW5nLFxuXHRcdHJpZ2h0OiBzdHJpbmcsXG5cdFx0ZmlyZTogc3RyaW5nLFxuXHRcdHpvb206IG51bWJlclxuXHQpIHtcblx0XHQvLyBhc3NpZ24gY29udGV4dFxuXHRcdHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuXG5cdFx0Ly8gYXNzaWduIHNob3Rcblx0XHR0aGlzLl9zaG90ID0gc2hvdDtcblxuXHRcdC8vIGFzc2lnbiBwbGF5ZXIgY29udHJvbHNcblx0XHR0aGlzLl9sZWZ0ID0gbGVmdDtcblx0XHR0aGlzLl9yaWdodCA9IHJpZ2h0O1xuXHRcdHRoaXMuX2ZpcmUgPSBmaXJlO1xuXG5cdFx0Ly8gYXNzaWduIHpvb21lZCBzaXplXG5cdFx0dGhpcy5fem9vbWVkU2l6ZSA9IHpvb20gKiB0aGlzLl90aWxlU2l6ZTtcblxuXHRcdC8vIGFzc2lnbiBjb29yZGluYXRlc1xuXHRcdHRoaXMuX3kgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQgLSB0aGlzLl96b29tZWRTaXplO1xuXHRcdHRoaXMuX3ggPSAoY29udGV4dC5jYW52YXMud2lkdGggLSB0aGlzLl96b29tZWRTaXplKSAvIDI7XG5cblx0XHQvLyBhc3NpZ24gdGlsZSBzaGVldFxuXHRcdHRoaXMuX3NoZWV0LnNyYyA9IFwiLi4vaW1nL2ppLXNoZWV0LnBuZ1wiO1xuXG5cdFx0Ly8gZHJhdyBwbGF5ZXIgb24gcGFnZSBsb2FkXG5cdFx0dGhpcy5fcmVuZGVyKHRydWUpO1xuXHR9XG5cblx0cHVibGljIGhhbmRsZUlucHV0KCkge1xuXHRcdC8vIGV4ZWN1dGUgZXZlbnRzIG9mIHBsYXllciBvbiBpbnB1dFxuXHRcdGlmICh0aGlzLnByZXNzZWRfa2V5cy5pbmNsdWRlcyh0aGlzLl9sZWZ0KSkgdGhpcy5fbW92ZUxlZnQoKTtcblx0XHRpZiAodGhpcy5wcmVzc2VkX2tleXMuaW5jbHVkZXModGhpcy5fcmlnaHQpKSB0aGlzLl9tb3ZlUmlnaHQoKTtcblx0XHRpZiAodGhpcy5wcmVzc2VkX2tleXMuaW5jbHVkZXModGhpcy5fZmlyZSkpIHRoaXMuX2ZpcmVTaG90KCk7XG5cblx0XHQvLyB1cGRhdGUgcGxheWVyXG5cdFx0dGhpcy5fY2xlYXIoKTtcblx0XHR0aGlzLl9yZW5kZXIoKTtcblx0fVxuXG5cdC8vIG1vdmVzIGxlZnQgYnV0IG5vdCBvdXQgb2YgdGhlIHNjcmVlblxuXHRwcml2YXRlIF9tb3ZlTGVmdCgpIHtcblx0XHR0aGlzLl94ID0gdGhpcy5feCAtIHRoaXMuX3ZlbG9jaXR5ID49IDAgPyB0aGlzLl94IC0gdGhpcy5fdmVsb2NpdHkgOiAwO1xuXHR9XG5cblx0Ly8gbW92ZXMgcmlnaHQgYnV0IG5vdCBvdXQgb2YgdGhlIHNjcmVlblxuXHRwcml2YXRlIF9tb3ZlUmlnaHQoKSB7XG5cdFx0dGhpcy5feCA9XG5cdFx0XHR0aGlzLl94ICsgdGhpcy5fem9vbWVkU2l6ZSA8PSB0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aFxuXHRcdFx0XHQ/IHRoaXMuX3ggKyB0aGlzLl92ZWxvY2l0eVxuXHRcdFx0XHQ6IHRoaXMuX3g7XG5cdH1cblxuXHRwcml2YXRlIF9maXJlU2hvdCgpIHtcblx0XHR0aGlzLl9zaG90LnNob290KHRoaXMuX3ggKyB0aGlzLl96b29tZWRTaXplIC8gMiwgdGhpcy5feSk7XG5cdH1cblxuXHQvLyBjbGVhciBwbGF5ZXIgb24gc2NyZWVuXG5cdHByaXZhdGUgX2NsZWFyKCkge1xuXHRcdHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KFxuXHRcdFx0dGhpcy5feCAtIHRoaXMuX3ZlbG9jaXR5LFxuXHRcdFx0dGhpcy5feSxcblx0XHRcdHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoLFxuXHRcdFx0dGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0XG5cdFx0KTtcblx0fVxuXG5cdC8vIGRyYXcgcGxheWVyIG9uIHNjcmVlblxuXHRwcml2YXRlIF9yZW5kZXIob25sb2FkPzogYm9vbGVhbikge1xuXHRcdGlmIChvbmxvYWQpIHtcblx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xuXHRcdFx0dGhpcy5fc2hlZXQub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGF0Ll9jb250ZXh0LmRyYXdJbWFnZShcblx0XHRcdFx0XHR0aGF0Ll9zaGVldCxcblx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0OSxcblx0XHRcdFx0XHQ5LFxuXHRcdFx0XHRcdHRoYXQuX3gsXG5cdFx0XHRcdFx0dGhhdC5feSxcblx0XHRcdFx0XHR0aGF0Ll96b29tZWRTaXplLFxuXHRcdFx0XHRcdHRoYXQuX3pvb21lZFNpemVcblx0XHRcdFx0KTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKFxuXHRcdFx0XHR0aGlzLl9zaGVldCxcblx0XHRcdFx0MCxcblx0XHRcdFx0MCxcblx0XHRcdFx0OSxcblx0XHRcdFx0OSxcblx0XHRcdFx0dGhpcy5feCxcblx0XHRcdFx0dGhpcy5feSxcblx0XHRcdFx0dGhpcy5fem9vbWVkU2l6ZSxcblx0XHRcdFx0dGhpcy5fem9vbWVkU2l6ZVxuXHRcdFx0KTtcblx0XHR9XG5cdH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTaG90IHtcblx0Ly8gY2FudmFzIGNvbnRleHQgZm9yIGRyYXdpbmcgc2hhcGVzXG5cdHByaXZhdGUgX2NvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuXHQvLyBzaG90IGNvb3JkaW5hdGVzIGFuZCB2ZWxvY2l0eVxuXHRwcml2YXRlIF94OiBudW1iZXI7XG5cdHByaXZhdGUgX3k6IG51bWJlcjtcblx0cHJpdmF0ZSBfdmVsb2NpdHk6IG51bWJlciA9IDIwO1xuXG5cdC8vIGRlZmluZXMgdGhlIHNob3QgbGVuZ3RoIGFuZCB0aGlja25lc3MgZm9yIHRoZSBkcmF3aW5nIG9mIHNob3Rcblx0cHJpdmF0ZSBfbGVuZ3RoOiBudW1iZXIgPSAxMDtcblx0cHJpdmF0ZSBfdGhpY2tuZXNzOiBudW1iZXIgPSA1O1xuXG5cdGNvbnN0cnVjdG9yKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuXHRcdHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuXHRcdHRoaXMuX3ggPSAwO1xuXHRcdHRoaXMuX3kgPSAwO1xuXHR9XG5cblx0LyoqXG5cdCAqIHNob290IGlmIHRoZXJlIGlzIG5vIGFjdHVhbCBzaG9vdCBhbiB0aGUgZmllbGRcblx0ICovXG5cdHB1YmxpYyBzaG9vdChwb3NpdGlvblg6IG51bWJlciwgcG9zaXRpb25ZOiBudW1iZXIpIHtcblx0XHRpZiAodGhpcy5feSA8PSAwKSB7XG5cdFx0XHR0aGlzLl9jbGVhcigpO1xuXHRcdFx0dGhpcy5feCA9IHBvc2l0aW9uWDtcblx0XHRcdHRoaXMuX3kgPSBwb3NpdGlvblk7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQgKiBoaXQgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFueXRoaW5nIGlzIGhpdHRlbiBieSB0aGUgc2hvdFxuXHQgKi9cblx0cHVibGljIGhpdCgpIHtcblx0XHR0aGlzLl9jbGVhcigpO1xuXHRcdHRoaXMuX3kgPSAwO1xuXHR9XG5cblx0LyoqXG5cdCAqIGNoZWNrcyBpZiB0aGUgc2hvb3QgaXMgaW4gdGhlIGZpZWxkXG5cdCAqIHRoYW4gaXQgY2xlYXJzIHRoZSBvbGQgc2hvb3Rcblx0ICogdGhhbiBpdCBtb3ZlcyB0aGUgc2hvb3QgdXAgYW5kIHBhaW50IGl0XG5cdCAqL1xuXHRwdWJsaWMgc2hvb3RBbmltYXRpb24oKSB7XG5cdFx0aWYgKHRoaXMuX3kgPD0gMCkge1xuXHRcdFx0dGhpcy5fY2xlYXIoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9jbGVhcigpO1xuXHRcdHRoaXMuX3kgLT0gdGhpcy5fdmVsb2NpdHk7XG5cdFx0dGhpcy5fcmVuZGVyKCk7XG5cdH1cblxuXHQvKipcblx0ICogY2xlYXJzIHRoZSBjdXJyZW50IHNob290XG5cdCAqL1xuXHRwcml2YXRlIF9jbGVhcigpIHtcblx0XHR0aGlzLl9jb250ZXh0LmNsZWFyUmVjdChcblx0XHRcdHRoaXMuX3ggLSB0aGlzLl90aGlja25lc3MgLyAyLFxuXHRcdFx0dGhpcy5feSAtIHRoaXMuX2xlbmd0aCxcblx0XHRcdHRoaXMuX3RoaWNrbmVzcyArIDAuNSxcblx0XHRcdHRoaXMuX2xlbmd0aCArIDAuMVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogZHJhd3MgdGhlIHNob3Qgb24gc2NyZWVuXG5cdCAqL1xuXHRwcml2YXRlIF9yZW5kZXIoKSB7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBcInJlZFwiO1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoXG5cdFx0XHR0aGlzLl94IC0gdGhpcy5fdGhpY2tuZXNzIC8gMixcblx0XHRcdHRoaXMuX3kgLSB0aGlzLl9sZW5ndGgsXG5cdFx0XHR0aGlzLl90aGlja25lc3MsXG5cdFx0XHR0aGlzLl9sZW5ndGhcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIGdldCB4IHBvc2l0aW9uIG9mIHRoZSBzaG90XG5cdCAqL1xuXHRwdWJsaWMgZ2V0IGdldFgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5feDtcblx0fVxuXHQvKipcblx0ICogZ2V0IHkgcG9zaXRpb24gb2YgdGhlIHNob3Rcblx0ICovXG5cdHB1YmxpYyBnZXQgZ2V0WSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl95O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcbmV4cG9ydCB2YXIgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKCkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgRU1QVFlfU1VCU0NSSVBUSU9OIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG52YXIgU3ViamVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm9ic2VydmVycyA9IFtdO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3QucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQW5vbnltb3VzU3ViamVjdCh0aGlzLCB0aGlzKTtcbiAgICAgICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl90aHJvd0lmQ2xvc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gdGhpcy5vYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY29weV8xID0gX192YWx1ZXMoY29weSksIGNvcHlfMV8xID0gY29weV8xLm5leHQoKTsgIWNvcHlfMV8xLmRvbmU7IGNvcHlfMV8xID0gY29weV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBjb3B5XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3B5XzFfMSAmJiAhY29weV8xXzEuZG9uZSAmJiAoX2EgPSBjb3B5XzEucmV0dXJuKSkgX2EuY2FsbChjb3B5XzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICAgICAgd2hpbGUgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc2hpZnQoKS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVycy5zaGlmdCgpLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBudWxsO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyU3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX2lubmVyU3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkLCBvYnNlcnZlcnMgPSBfYS5vYnNlcnZlcnM7XG4gICAgICAgIHJldHVybiBoYXNFcnJvciB8fCBpc1N0b3BwZWRcbiAgICAgICAgICAgID8gRU1QVFlfU1VCU0NSSVBUSU9OXG4gICAgICAgICAgICA6IChvYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKSwgbmV3IFN1YnNjcmlwdGlvbihmdW5jdGlvbiAoKSB7IHJldHVybiBhcnJSZW1vdmUob2JzZXJ2ZXJzLCBzdWJzY3JpYmVyKTsgfSkpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBoYXNFcnJvciA9IF9hLmhhc0Vycm9yLCB0aHJvd25FcnJvciA9IF9hLnRocm93bkVycm9yLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQ7XG4gICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aHJvd25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgU3ViamVjdC5jcmVhdGUgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3ViamVjdDtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgU3ViamVjdCB9O1xudmFyIEFub255bW91c1N1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV4dCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHZhbHVlKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBlcnIpO1xuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZGVzdGluYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb21wbGV0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmliZShzdWJzY3JpYmVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogRU1QVFlfU1VCU0NSSVBUSU9OO1xuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFub255bW91c1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwIiwiaW1wb3J0IHsgRW5lbXkgfSBmcm9tIFwiLi9lbmVteVwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgeyBFbmVteUhhbmRsZXIgfSBmcm9tIFwiLi9lbmVteUhhbmRsZXJcIjtcbmltcG9ydCB7IFNob3QgfSBmcm9tIFwiLi9zaG90XCI7XG5pbXBvcnQgeyBHYW1lU2V0dGluZ3MgfSBmcm9tIFwiLi9nYW1lLXNldHRpbmdzXCI7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tIFwicnhqc1wiO1xuXG5jb25zdCBzdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdCgyMyk7XG5jb25zdCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gPEhUTUxDYW52YXNFbGVtZW50Pihcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJqa29uc0ludmFkZXJcIilcbik7XG5jb25zdCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcblx0XCIyZFwiXG4pIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbmNvbnN0IGVuZW15SGFuZGxlcjogRW5lbXlIYW5kbGVyID0gbmV3IEVuZW15SGFuZGxlcigpO1xuY29uc3Qgc2V0dGluZ3M6IEdhbWVTZXR0aW5ncyA9IG5ldyBHYW1lU2V0dGluZ3MoY2FudmFzKTtcbmNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5cbnN1YmplY3Quc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbmxldCBzaG90cyA9IG5ldyBBcnJheSgpO1xubGV0IHBsYXllcnMgPSBuZXcgQXJyYXkoKTtcbmxldCBnYW1lU3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xubGV0IGFjdHVhbFNjb3JlOiBudW1iZXIgPSAwO1xubGV0IHNjb3JlRWxlbWVudDogSFRNTE91dHB1dEVsZW1lbnQgPSA8SFRNTE91dHB1dEVsZW1lbnQ+KFxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjb3JlXCIpXG4pO1xubGV0IGFuaW1hdGlvbjogbnVtYmVyO1xubGV0IGFuaW1hdGlvbkFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XG5sZXQgYW5pbWF0aW9uU3BlZWQ6IG51bWJlciA9IDEgLyA2MDtcbi8vICEgU2hvdWxkIG5vdCBiZSwgYnV0IGR1bW15IGVuZW15IGZvciB6b29tIGFuZCB0aWxlIHNpemUsIHRpbGwgZ2FtZSBzZXR0aW5ncyBhbmQgdGlsZSBjb25maWcgaXMgY3JlYXRlZC5cbmNvbnN0IHBsYXllciA9IG5ld1BsYXllcihcImFcIiwgXCJkXCIsIFwiIFwiKTtcblxuY29uc3QgZW5lbXk6IEVuZW15ID0gbmV3IEVuZW15KGNvbnRleHQsIHNob3RzLCBlbmVteUhhbmRsZXIsIDEsIDAsIDApO1xuY29uc3Qgc3BhY2VCZXR3ZWVuID0gc2V0dGluZ3Muem9vbSAqIGVuZW15LnRpbGVXaWR0aDtcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGtleWJvYXJkKSA9PiB7XG5cdFx0c3dpdGNoIChrZXlib2FyZC5rZXkpIHtcblx0XHRcdGNhc2UgXCJyXCI6XG5cdFx0XHRcdGlmIChnYW1lU3RhcnRlZCA9PT0gZmFsc2UpIHtcblx0XHRcdFx0XHRnYW1lU3RhcnRlZCA9IHRydWU7XG5cdFx0XHRcdFx0YW5pbWF0ZSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGluaXQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Z2FtZVN0YXJ0ZWQgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9KTtcbn1cbmZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuXHRlbmVteUhhbmRsZXIuYWRkRW5lbXkoXG5cdFx0bmV3IEVuZW15KGNvbnRleHQsIHNob3RzLCBlbmVteUhhbmRsZXIsIHNldHRpbmdzLnpvb20sIGkgKiBzcGFjZUJldHdlZW4sIDApXG5cdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1lT3ZlcigpIHt9XG5cbmZ1bmN0aW9uIGFuaW1hdGUoKTogdm9pZCB7XG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdHBsYXllci5oYW5kbGVJbnB1dCgpO1xuXHRcdGVuZW15SGFuZGxlci5tb3ZlRW5lbWllcygpO1xuXHRcdGZvciAobGV0IGogPSAwOyBqIDwgc2hvdHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdHNob3RzW2pdLnNob290QW5pbWF0aW9uKCk7XG5cdFx0fVxuXHRcdGlmIChhbmltYXRpb25BY3RpdmUpIHtcblx0XHRcdGFuaW1hdGlvbiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcblx0XHR9XG5cdH0sIGFuaW1hdGlvblNwZWVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjb3JlKCkge1xuXHRhY3R1YWxTY29yZSsrO1xuXHQvLyBzY29yZUVsZW1lbnQudmFsdWUgPSBhY3R1YWxTY29yZS50b1N0cmluZygpO1xufVxuXG5mdW5jdGlvbiBuZXdQbGF5ZXIobGVmdDogc3RyaW5nLCByaWdodDogc3RyaW5nLCBmaXJlOiBzdHJpbmcpOiBQbGF5ZXIge1xuXHRjb25zdCBzaG90OiBTaG90ID0gbmV3IFNob3QoY29udGV4dCk7XG5cdGNvbnN0IHBsYXllcjogUGxheWVyID0gbmV3IFBsYXllcihcblx0XHRjb250ZXh0LFxuXHRcdHNob3QsXG5cdFx0bGVmdCxcblx0XHRyaWdodCxcblx0XHRmaXJlLFxuXHRcdHNldHRpbmdzLnpvb21cblx0KTtcblxuXHRzaG90cy5wdXNoKHNob3QpO1xuXHRwbGF5ZXJzLnB1c2gocGxheWVyKTtcblxuXHRyZXR1cm4gcGxheWVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcCgpIHtcblx0Y29uc29sZS5sb2coXCJzdG9wXCIpO1xuXHRhbmltYXRpb25BY3RpdmUgPSBmYWxzZTtcblx0Y2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uKTtcblx0bGV0IGZvbnRzaXplOiBudW1iZXIgPSAxNjA7XG5cdGxldCB4ID0gKGNhbnZhcy53aWR0aCAtIGZvbnRzaXplICogNSkgLyAyO1xuXHRsZXQgeSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuXHRjb250ZXh0LmZvbnQgPSBgJHtmb250c2l6ZX1weCBBcmlhbGA7XG5cdGNvbnRleHQuZmlsbFRleHQoXCJHYW1lIE92ZXJcIiwgeCwgeSk7XG59XG5cbmluaXQoKTtcbiIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG52YXIgQmVoYXZpb3JTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmVoYXZpb3JTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJlaGF2aW9yU3ViamVjdChfdmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IF9zdXBlci5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICAhc3Vic2NyaXB0aW9uLmNsb3NlZCAmJiBzdWJzY3JpYmVyLm5leHQodGhpcy5fdmFsdWUpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgdGhyb3duRXJyb3IgPSBfYS50aHJvd25FcnJvciwgX3ZhbHVlID0gX2EuX3ZhbHVlO1xuICAgICAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IHRocm93bkVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICB9O1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCAodGhpcy5fdmFsdWUgPSB2YWx1ZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIEJlaGF2aW9yU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CZWhhdmlvclN1YmplY3QuanMubWFwIiwiaW1wb3J0IHsgRW5lbXkgfSBmcm9tIFwiLi9lbmVteVwiO1xuZXhwb3J0IGNsYXNzIEVuZW15SGFuZGxlciB7XG5cdHByaXZhdGUgZW5lbWllczogRW5lbXlbXTtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5lbmVtaWVzID0gW107XG5cdH1cblxuXHRhZGRFbmVteShlbmVteTogRW5lbXkpIHtcblx0XHR0aGlzLmVuZW1pZXMucHVzaChlbmVteSk7XG5cdH1cblxuXHRhZGRFbmVtaWVzKGVuZW1pZXM6IEVuZW15W10pIHtcblx0XHR0aGlzLmVuZW1pZXMuY29uY2F0KGVuZW1pZXMpO1xuXHR9XG5cblx0cmVtb3ZlRW5lbXkoZW5lbXk6IEVuZW15KSB7XG5cdFx0dGhpcy5lbmVtaWVzLnNwbGljZSh0aGlzLmVuZW1pZXMuaW5kZXhPZihlbmVteSksIDEpO1xuXHR9XG5cblx0bW92ZUVuZW1pZXMoKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVuZW1pZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuZW5lbWllc1tpXS5tb3ZlRW5lbXkoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgZ2V0IGdldEVuZW1pZXNZKCk6IG51bWJlcltdIHtcblx0XHRjb25zdCB5TGlzdDogbnVtYmVyW10gPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW5lbWllcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0eUxpc3QucHVzaCh0aGlzLmVuZW1pZXNbaV0ueSk7XG5cdFx0fVxuXHRcdHJldHVybiB5TGlzdDtcblx0fVxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVTZXR0aW5ncyB7XG4gIHByaXZhdGUgX3pvb206IG51bWJlciA9IDE7XG4gIHByaXZhdGUgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHByaXZhdGUgc2l6ZTogbnVtYmVyID0gMDtcbiAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgICB0aGlzLnJlc2l6ZUNhbnZhcygpO1xuICAgIFxuICAgIC8vIFdlYmtpdC9CbGluayB3aWxsIGZpcmUgdGhpcyBvbiBsb2FkLCBidXQgR2Vja28gZG9lc24ndC5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlc2l6ZUNhbnZhcygpXG4gICAgfSk7XG4gIH1cbiAgXG4gIHByaXZhdGUgcmVzaXplQ2FudmFzKCkge1xuICAgIC8vIHJlc2l6ZSBjYW52YXMgaWYgdGhlIHdpbmRvdyBzaXplIHJlYWNoZWQgYSBzcGVjaWZpYyBzaXplXG4gICAgICBpZiAoaW5uZXJIZWlnaHQgPD0gNDUwKSB7XG4gICAgICAgIHRoaXMuem9vbSA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpbm5lckhlaWdodCA8PSA2OTAgfHwgaW5uZXJXaWR0aCA8PSA2NzUgKSB7XG4gICAgICAgIHRoaXMuem9vbSA9IDI7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpbm5lckhlaWdodCA8PSA5MTUgfHwgaW5uZXJXaWR0aCA8PSA5MDApIHtcbiAgICAgICAgdGhpcy56b29tID0gMztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnpvb20gPSA0O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNpemUgPSAyMjUgKiB0aGlzLnpvb207XG4gICAgICAgIC8vIFNldCBjYW52YXMgaGVpZ2h0IGFuZCB3aXRoIGluIEpTLCBiZWNhdXNlIHdpdGggYW5kIGhlaWdodCBzZXQgaW4gQ1NTIGRpc3RvcnQgZHJhd24gc2hhcGVzXG4gICAgICB0aGlzLl9jYW52YXMud2lkdGggPSB0aGlzLnNpemU7XG4gICAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gdGhpcy5zaXplO1xuICB9O1xuXG4gIHB1YmxpYyBzZXQgem9vbSh6b29tOiBudW1iZXIpIHtcbiAgICB0aGlzLl96b29tID0gem9vbTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgem9vbSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl96b29tO1xuICB9XG4gIFxufSJdLCJzb3VyY2VSb290IjoiIn0=