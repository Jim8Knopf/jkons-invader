!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([,function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return Ct})),n.d(e,"gameOver",(function(){return It})),n.d(e,"score",(function(){return jt})),n.d(e,"stop",(function(){return Pt}));class r{constructor(t,e,n,r,i,o){this._live=1,this._sheet=new Image,this._tileFrameX=0,this._tileFrameY=2,this._tileWidth=9,this._tileHeight=9,this._spriteChangeCounter=0,this.grid=900,this._context=t,this._x=i,this._y=o,this._speedX=5,this._speedY=35,this._zoom=r,this._zoomedWidth=this._tileWidth*this._zoom,this._zoomedHeight=this._tileHeight*this._zoom,this._shoots=e,this._handler=n,this._canvasCollision={right:this._context.canvas.width-this._zoomedWidth,left:0,top:0,bottom:this._context.canvas.height-2*this._zoomedHeight},this._sheet.src="../jkons-invader/img/ji-sheet.png"}_translate(t,e){this._context.clearRect(this._x,this._y,this._zoomedWidth,this._zoomedHeight),this._x+=t,this._y+=e,this._renderEnemy()}_renderEnemy(){this._context.drawImage(this._sheet,this._tileWidth*this._tileFrameX,this._tileWidth*this._tileFrameY,this._tileWidth,this._tileWidth,this._x,this._y,this._zoomedWidth,this._zoomedHeight)}moveEnemy(){this._hit(),this._spriteAnimation(),(this._speedX>0&&this._x<=this._canvasCollision.right||this._speedX<0&&this._x>=this._canvasCollision.left)&&this._translate(this._speedX,0),(this._speedX>0&&this._x>=this._canvasCollision.right||this._speedX<0&&this._x<=this._canvasCollision.left)&&(this._speedX=-this._speedX,this._translate(0,this._speedY)),this._dead(),this._gameOver()}_spriteAnimation(){this._spriteChangeCounter>=50?(this._spriteChangeCounter=0,this._tileFrameX<1?this._tileFrameX++:this._tileFrameX=0):this._spriteChangeCounter++}_hit(){for(let t=0;t<this._shoots.length;t++){let e=this._shoots[t].getX,n=this._shoots[t].getY;n>this._y&&n<=this._y+this._zoomedHeight&&e>=this._x&&e<=this._x+this._zoomedWidth&&(console.log("HIT"),this._shoots[t].hit(),this._live--,jt()),this._shoots[t].getX}}_dead(){if(this._live<=0){this._handler.removeEnemy(this),this._context.clearRect(this._x,this._y,this._zoomedWidth,this._zoomedHeight);const t=9*Math.floor(Math.random()*(this._context.canvas.width/9));let e=Math.floor(Math.random()*(this._canvasCollision.bottom/9)*9);for(;this._handler.getEnemiesY.find(t=>{e>=t&&this._zoomedHeight});)e=9*Math.floor(Math.random()*(this._context.canvas.height/9));setTimeout(()=>{this._handler.addEnemy(new r(this._context,this._shoots,this._handler,this._zoom,t,e))},1e4)}}_gameOver(){this._y>this._canvasCollision.bottom&&(console.log("finish"),Pt())}get zoom(){return this._zoom}get tileWidth(){return this._tileWidth}get tileHeight(){return this._tileHeight}get y(){return this._y}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}c((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}Object.create;function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function l(t){return this instanceof l?(this.v=t,this):new l(t)}function f(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=i[t](e)).value instanceof l?Promise.resolve(n.value.v).then(c,h):a(o[0][2],n)}catch(t){a(o[0][3],t)}var n}function c(t){u("next",t)}function h(t){u("throw",t)}function a(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}}function d(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=c(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}Object.create;function p(t){return"function"==typeof t}function _(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var y=_((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function v(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var b=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=c(o),u=s.next();!u.done;u=s.next()){u.value.remove(this)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else o.remove(this);var l=this.initialTeardown;if(p(l))try{l()}catch(t){i=t instanceof y?t.errors:[t]}var f=this._teardowns;if(f){this._teardowns=null;try{for(var d=c(f),_=d.next();!_.done;_=d.next()){var v=_.value;try{w(v)}catch(t){i=null!=i?i:[],t instanceof y?i=a(a([],h(i)),h(t.errors)):i.push(t)}}}catch(t){n={error:t}}finally{try{_&&!_.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}if(i)throw new y(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)w(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&v(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&v(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),m=b.EMPTY;function g(t){return t instanceof b||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function w(t){p(t)?t():t.unsubscribe()}var x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},S={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=S.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,a([],h(t)))},clearTimeout:function(t){var e=S.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function z(t){S.setTimeout((function(){var e=x.onUnhandledError;if(!e)throw t;e(t)}))}function E(){}var k=C("C",void 0,void 0);function C(t,e,n){return{kind:t,value:e,error:n}}var I=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,g(e)&&e.add(n)):n.destination=A,n}return o(e,t),e.create=function(t,e,n){return new O(t,e,n)},e.prototype.next=function(t){this.isStopped?T(function(t){return C("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?T(C("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?T(k,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(b),O=function(t){function e(e,n,r){var i,o=t.call(this)||this;if(p(e))i=e;else if(e){var s;i=e.next,n=e.error,r=e.complete,o&&x.useDeprecatedNextContext?(s=Object.create(e)).unsubscribe=function(){return o.unsubscribe()}:s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}return o.destination={next:i?j(i,o):E,error:j(null!=n?n:P,o),complete:r?j(r,o):E},o}return o(e,t),e}(I);function j(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{t.apply(void 0,a([],h(n)))}catch(t){if(x.useDeprecatedSynchronousErrorHandling){if(!e._syncErrorHack_isSubscribing)throw t;e.__syncError=t}else z(t)}}}function P(t){throw t}function T(t,e){var n=x.onStoppedNotification;n&&S.setTimeout((function(){return n(t,e)}))}var A={closed:!0,next:E,error:P,complete:E},H="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(t){return t}function X(t){return 0===t.length?W:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var F=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=(r=t)&&r instanceof I||function(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}(r)&&g(r)?t:new O(t,e,n);if(x.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(i);else{var o=this.operator,s=this.source;i.add(o?o.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}return i},t.prototype._deprecatedSyncErrorSubscribe=function(t){var e=t;e._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)t.add(n.call(t,this.source));else try{t.add(this._subscribe(t))}catch(t){e.__syncError=t}for(var r=e;r;){if("__syncError"in r)try{throw r.__syncError}finally{t.unsubscribe()}r=r.destination}e._syncErrorHack_isSubscribing=!1},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=L(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),null==i||i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[H]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?X(t)(this):this},t.prototype.toPromise=function(t){var e=this;return new(t=L(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function L(t){var e;return null!==(e=null!=t?t:x.Promise)&&void 0!==e?e:Promise}function M(t){return function(e){if(function(t){return p(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Y=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.onFinalize=o,s._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,s._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return o(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(I);function R(t,e){return M((function(n,r){var i=0;n.subscribe(new Y(r,(function(n){r.next(t.call(e,n,i++))})))}))}var D=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function N(t){return p(null==t?void 0:t.then)}function U(t,e){return new F((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}var $="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function B(t){return p(t[H])}function G(t){return p(null==t?void 0:t[$])}function V(t){return Symbol.asyncIterator&&p(null==t?void 0:t[Symbol.asyncIterator])}function q(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function J(t){return f(this,arguments,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,l(e.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,l(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,l(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function K(t){return p(null==t?void 0:t.getReader)}function Q(t){if(t instanceof F)return t;if(null!=t){if(B(t))return r=t,new F((function(t){var e=r[H]();if(p(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(D(t))return Z(t);if(N(t))return n=t,new F((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,z)}));if(V(t))return tt(t);if(G(t))return e=t,new F((function(t){var n,r;try{for(var i=c(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()}));if(K(t))return tt(J(t))}var e,n,r;throw q(t)}function Z(t){return new F((function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()}))}function tt(t){return new F((function(e){(function(t,e){var n,r,i,o;return s(this,void 0,void 0,(function(){var s,c;return u(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=d(t),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),i={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function et(t,e,n){return void 0===n&&(n=1/0),p(e)?et((function(n,r){return R((function(t,i){return e(n,t,r,i)}))(Q(t(n,r)))}),n):("number"==typeof e&&(n=e),M((function(e,r){return function(t,e,n,r,i,o,s,u){var c=[],h=0,a=0,l=!1,f=function(){!l||c.length||h||e.complete()},d=function(t){return h<r?p(t):c.push(t)},p=function(t){o&&e.next(t),h++;var u=!1;Q(n(t,a++)).subscribe(new Y(e,(function(t){null==i||i(t),o?d(t):e.next(t)}),(function(){u=!0}),void 0,(function(){if(u)try{h--;for(var t=function(){var t=c.shift();s?e.add(s.schedule((function(){return p(t)}))):p(t)};c.length&&h<r;)t();f()}catch(t){e.error(t)}})))};return t.subscribe(new Y(e,d,(function(){l=!0,f()}))),function(){null==u||u()}}(e,r,t,n)})))}var nt=Array.isArray;function rt(t){return R((function(e){return function(t,e){return nt(e)?t.apply(void 0,a([],h(e))):t(e)}(t,e)}))}var it=["addListener","removeListener"],ot=["addEventListener","removeEventListener"],st=["on","off"];function ut(t,e,n,r){if(p(n)&&(r=n,n=void 0),r)return ut(t,e,n).pipe(rt(r));var i,o,s=h(function(t){return p(t.addEventListener)&&p(t.removeEventListener)}(t)?ot.map((function(r){return function(i){return t[r](e,i,n)}})):function(t){return p(t.addListener)&&p(t.removeListener)}(t)?it.map(ct(t,e)):function(t){return p(t.on)&&p(t.off)}(t)?st.map(ct(t,e)):[],2),u=s[0],c=s[1];if(!u&&D(t))return et((function(t){return ut(t,e,n)}))((i=t,o?U(i,o):Z(i)));if(!u)throw new TypeError("Invalid event target");return new F((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return u(e),function(){return c(e)}}))}function ct(t,e){return function(n){return function(r){return t[n](e,r)}}}class ht{constructor(t,e,n,r,i,o){this._sheet=new Image,this._velocity=4,this.pressed_keys=[],this._keydown=ut(document,"keydown"),this._keydown$=this._keydown.pipe(R(t=>{this.pressed_keys.push(t.key)})),this._keyup=ut(document,"keyup"),this._keyup$=this._keyup.pipe(R(t=>{this.pressed_keys=this.pressed_keys.filter(e=>e!==t.key)})),this.keydownSubscription=this._keydown$.subscribe(),this.keyupSubscription=this._keyup$.subscribe(),this._tileSize=9,this._context=t,this._shot=e,this._left=n,this._right=r,this._fire=i,this._zoomedSize=o*this._tileSize,this._y=t.canvas.height-this._zoomedSize,this._x=(t.canvas.width-this._zoomedSize)/2,this._sheet.src="../jkons-invader/img/ji-sheet.png",this._render(!0)}handleInput(){this.pressed_keys.includes(this._left)&&this._moveLeft(),this.pressed_keys.includes(this._right)&&this._moveRight(),this.pressed_keys.includes(this._fire)&&this._fireShot(),this._clear(),this._render()}_moveLeft(){this._x=this._x-this._velocity>=0?this._x-this._velocity:0}_moveRight(){this._x=this._x+this._zoomedSize<=this._context.canvas.width?this._x+this._velocity:this._x}_fireShot(){this._shot.shoot(this._x+this._zoomedSize/2,this._y)}_clear(){this._context.clearRect(this._x-this._velocity,this._y,this._context.canvas.width,this._context.canvas.height)}_render(t){if(t){const t=this;this._sheet.onload=function(){t._context.drawImage(t._sheet,0,0,9,9,t._x,t._y,t._zoomedSize,t._zoomedSize)}}else this._context.drawImage(this._sheet,0,0,9,9,this._x,this._y,this._zoomedSize,this._zoomedSize)}}class at{constructor(t){this._velocity=20,this._length=10,this._thickness=5,this._context=t,this._x=0,this._y=0}shoot(t,e){this._y<=0&&(this._clear(),this._x=t,this._y=e)}hit(){this._clear(),this._y=0}shootAnimation(){this._y<=0&&this._clear(),this._clear(),this._y-=this._velocity,this._render()}_clear(){this._context.clearRect(this._x-this._thickness/2,this._y-this._length,this._thickness+.5,this._length+.1)}_render(){this._context.fillStyle="red",this._context.fillRect(this._x-this._thickness/2,this._y-this._length,this._thickness,this._length)}get getX(){return this._x}get getY(){return this._y}}var lt=_((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ft=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype.lift=function(t){var e=new dt(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new lt},e.prototype.next=function(t){var e,n;if(this._throwIfClosed(),!this.isStopped){var r=this.observers.slice();try{for(var i=c(r),o=i.next();!o.done;o=i.next()){o.value.next(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},e.prototype.error=function(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;for(var e=this.observers;e.length;)e.shift().error(t)}},e.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var t=this.observers;t.length;)t.shift().complete()}},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this.hasError,n=this.isStopped,r=this.observers;return e||n?m:(r.push(t),new b((function(){return v(r,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,n=this.thrownError,r=this.isStopped;e?t.error(n):r&&t.complete()},e.prototype.asObservable=function(){var t=new F;return t.source=this,t},e.create=function(t,e){return new dt(t,e)},e}(F),dt=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return o(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:m},e}(ft);const pt=new(function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this.hasError,e=this.thrownError,n=this._value;if(t)throw e;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(ft))(23),_t=document.getElementById("jkonsInvader"),yt=_t.getContext("2d"),vt=new class{constructor(){this.enemies=[]}addEnemy(t){this.enemies.push(t)}addEnemies(t){this.enemies.concat(t)}removeEnemy(t){this.enemies.splice(this.enemies.indexOf(t),1)}moveEnemies(){for(let t=0;t<this.enemies.length;t++)this.enemies[t].moveEnemy()}get getEnemiesY(){const t=[];for(let e=0;e<this.enemies.length;e++)t.push(this.enemies[e].y);return t}},bt=new class{constructor(t){this._zoom=1,this.size=0,this._canvas=t,this.resizeCanvas(),window.addEventListener("resize",()=>{this.resizeCanvas()})}resizeCanvas(){innerHeight<=450?this.zoom=1:innerHeight<=690||innerWidth<=675?this.zoom=2:innerHeight<=915||innerWidth<=900?this.zoom=3:this.zoom=4,this.size=225*this.zoom,this._canvas.width=this.size,this._canvas.height=this.size}set zoom(t){this._zoom=t}get zoom(){return this._zoom}}(_t);yt.imageSmoothingEnabled=!1,pt.subscribe(console.log);let mt,gt=new Array,wt=new Array,xt=!1,St=(document.getElementById("score"),!0);const zt=function(t,e,n){const r=new at(yt),i=new ht(yt,r,t,e,n,bt.zoom);return gt.push(r),wt.push(i),i}("a","d"," "),Et=new r(yt,gt,vt,1,0,0),kt=bt.zoom*Et.tileWidth;function Ct(){document.addEventListener("keyup",t=>{switch(t.key){case"r":!1===xt?(xt=!0,Ot()):Ct();break;default:xt=!1}})}for(let t=0;t<20;t++)vt.addEnemy(new r(yt,gt,vt,bt.zoom,t*kt,0));function It(){}function Ot(){setTimeout(()=>{zt.handleInput(),vt.moveEnemies();for(let t=0;t<gt.length;t++)gt[t].shootAnimation();St&&(mt=requestAnimationFrame(Ot))},1/60)}function jt(){0}function Pt(){console.log("stop"),St=!1,cancelAnimationFrame(mt);let t=(_t.width-800)/2,e=_t.height/2;yt.font="160px Arial",yt.fillText("Game Over",t,e)}Ct()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZW15LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9jcmVhdGVFcnJvckNsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJyUmVtb3ZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9ub29wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbGlmdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlSW50ZXJuYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL21hcE9uZU9yTWFueUFyZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zaG90LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZW15SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS1zZXR0aW5ncy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbnRleHQiLCJzaG9vdHMiLCJoYW5kbGVyIiwiem9vbSIsIngiLCJ5IiwiX2xpdmUiLCJfc2hlZXQiLCJJbWFnZSIsIl90aWxlRnJhbWVYIiwiX3RpbGVGcmFtZVkiLCJfdGlsZVdpZHRoIiwiX3RpbGVIZWlnaHQiLCJfc3ByaXRlQ2hhbmdlQ291bnRlciIsImdyaWQiLCJ0aGlzIiwiX2NvbnRleHQiLCJfeCIsIl95IiwiX3NwZWVkWCIsIl9zcGVlZFkiLCJfem9vbSIsIl96b29tZWRXaWR0aCIsIl96b29tZWRIZWlnaHQiLCJfc2hvb3RzIiwiX2hhbmRsZXIiLCJfY2FudmFzQ29sbGlzaW9uIiwicmlnaHQiLCJjYW52YXMiLCJ3aWR0aCIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJoZWlnaHQiLCJzcmMiLCJjbGVhclJlY3QiLCJfcmVuZGVyRW5lbXkiLCJkcmF3SW1hZ2UiLCJfaGl0IiwiX3Nwcml0ZUFuaW1hdGlvbiIsIl90cmFuc2xhdGUiLCJfZGVhZCIsIl9nYW1lT3ZlciIsImoiLCJsZW5ndGgiLCJzaG9vdFgiLCJnZXRYIiwic2hvb3RZIiwiZ2V0WSIsImNvbnNvbGUiLCJsb2ciLCJoaXQiLCJzY29yZSIsInJlbW92ZUVuZW15IiwicmFuZG9tWCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRvbVkiLCJnZXRFbmVtaWVzWSIsImZpbmQiLCJzZXRUaW1lb3V0IiwiYWRkRW5lbXkiLCJzdG9wIiwiZXh0ZW5kU3RhdGljcyIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX19leHRlbmRzIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJjb25zdHJ1Y3RvciIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJpdGVyYXRvciIsInYiLCJvcCIsInBvcCIsInB1c2giLCJfX3ZhbHVlcyIsIl9fcmVhZCIsImFyIiwiZXJyb3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwiaWwiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJxIiwiYSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNWYWx1ZXMiLCJpc0Z1bmN0aW9uIiwiY3JlYXRlRXJyb3JDbGFzcyIsImNyZWF0ZUltcGwiLCJjdG9yRnVuYyIsImluc3RhbmNlIiwiRXJyb3IiLCJzdGFjayIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJfc3VwZXIiLCJlcnJvcnMiLCJtZXNzYWdlIiwibWFwIiwiZXJyIiwidG9TdHJpbmciLCJqb2luIiwiYXJyUmVtb3ZlIiwiYXJyIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIlN1YnNjcmlwdGlvbiIsImluaXRpYWxUZWFyZG93biIsImNsb3NlZCIsIl9wYXJlbnRhZ2UiLCJfdGVhcmRvd25zIiwiZW1wdHkiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJpc0FycmF5IiwiX3BhcmVudGFnZV8xIiwiX3BhcmVudGFnZV8xXzEiLCJyZW1vdmUiLCJlXzFfMSIsInJldHVybiIsIl90ZWFyZG93bnNfMSIsIl90ZWFyZG93bnNfMV8xIiwidGVhcmRvd25fMSIsImV4ZWNUZWFyZG93biIsImVfMl8xIiwiYWRkIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIkVNUFRZIiwiRU1QVFlfU1VCU0NSSVBUSU9OIiwiaXNTdWJzY3JpcHRpb24iLCJjb25maWciLCJvblVuaGFuZGxlZEVycm9yIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwidW5kZWZpbmVkIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsInVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCIsInRpbWVvdXRQcm92aWRlciIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImRlbGVnYXRlIiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlIiwicmVwb3J0VW5oYW5kbGVkRXJyb3IiLCJub29wIiwiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwia2luZCIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbiIsIl90aGlzIiwiaXNTdG9wcGVkIiwiRU1QVFlfT0JTRVJWRVIiLCJjb21wbGV0ZSIsImhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24iLCJuZXh0Tm90aWZpY2F0aW9uIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJTYWZlU3Vic2NyaWJlciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dF8xIiwid3JhcEZvckVycm9ySGFuZGxpbmciLCJkZWZhdWx0RXJyb3JIYW5kbGVyIiwiX3N5bmNFcnJvckhhY2tfaXNTdWJzY3JpYmluZyIsIl9fc3luY0Vycm9yIiwibm90aWZpY2F0aW9uIiwic3Vic2NyaWJlciIsIm9ic2VydmFibGUiLCJpZGVudGl0eSIsInBpcGVGcm9tQXJyYXkiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJmbiIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwiaXNPYnNlcnZlciIsIl9kZXByZWNhdGVkU3luY0Vycm9yU3Vic2NyaWJlIiwiX3RyeVN1YnNjcmliZSIsImxvY2FsU3Vic2NyaWJlciIsImRlc3QiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJzdWJzY3JpcHRpb24iLCJwaXBlIiwib3BlcmF0aW9ucyIsInRvUHJvbWlzZSIsIm9wZXJhdGUiLCJpbml0IiwiaGFzTGlmdCIsImxpZnRlZFNvdXJjZSIsIk9wZXJhdG9yU3Vic2NyaWJlciIsIm9uTmV4dCIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25GaW5hbGl6ZSIsInByb2plY3QiLCJpc0FycmF5TGlrZSIsImlzUHJvbWlzZSIsInNjaGVkdWxlQXJyYXkiLCJzY2hlZHVsZXIiLCJzY2hlZHVsZSIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc0l0ZXJhYmxlIiwiaXNBc3luY0l0ZXJhYmxlIiwib2JqIiwiY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IiLCJyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIiwicmVhZGFibGVTdHJlYW0iLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImlubmVyRnJvbSIsIm9icyIsImZyb21BcnJheUxpa2UiLCJwcm9taXNlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJpdGVyYWJsZSIsIml0ZXJhYmxlXzEiLCJpdGVyYWJsZV8xXzEiLCJhcnJheSIsImFzeW5jSXRlcmFibGUiLCJhc3luY0l0ZXJhYmxlXzEiLCJhc3luY0l0ZXJhYmxlXzFfMSIsInByb2Nlc3MiLCJjYXRjaCIsIm1lcmdlTWFwIiwicmVzdWx0U2VsZWN0b3IiLCJjb25jdXJyZW50IiwiSW5maW5pdHkiLCJpaSIsIm9uQmVmb3JlTmV4dCIsImV4cGFuZCIsImlubmVyU3ViU2NoZWR1bGVyIiwiYWRkaXRpb25hbFRlYXJkb3duIiwiYnVmZmVyIiwiYWN0aXZlIiwiaXNDb21wbGV0ZSIsImNoZWNrQ29tcGxldGUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImlubmVyVmFsdWUiLCJfbG9vcF8xIiwiYnVmZmVyZWRWYWx1ZSIsIm1lcmdlSW50ZXJuYWxzIiwibWFwT25lT3JNYW55QXJncyIsImNhbGxPckFwcGx5Iiwibm9kZUV2ZW50RW1pdHRlck1ldGhvZHMiLCJldmVudFRhcmdldE1ldGhvZHMiLCJqcXVlcnlNZXRob2RzIiwiZnJvbUV2ZW50IiwidGFyZ2V0IiwiZXZlbnROYW1lIiwib3B0aW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNFdmVudFRhcmdldCIsIm1ldGhvZE5hbWUiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIiLCJ0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSIsIm9uIiwib2ZmIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInN1YlRhcmdldCIsInNob3QiLCJmaXJlIiwiX3ZlbG9jaXR5IiwicHJlc3NlZF9rZXlzIiwiX2tleWRvd24iLCJkb2N1bWVudCIsIl9rZXlkb3duJCIsImV2ZW50IiwiX2tleXVwIiwiX2tleXVwJCIsImZpbHRlciIsImsiLCJrZXlkb3duU3Vic2NyaXB0aW9uIiwia2V5dXBTdWJzY3JpcHRpb24iLCJfdGlsZVNpemUiLCJfc2hvdCIsIl9sZWZ0IiwiX3JpZ2h0IiwiX2ZpcmUiLCJfem9vbWVkU2l6ZSIsIl9yZW5kZXIiLCJfbW92ZUxlZnQiLCJfbW92ZVJpZ2h0IiwiX2ZpcmVTaG90IiwiX2NsZWFyIiwic2hvb3QiLCJvbmxvYWQiLCJ0aGF0IiwiU2hvdCIsIl9sZW5ndGgiLCJfdGhpY2tuZXNzIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsIlN1YmplY3QiLCJvYnNlcnZlcnMiLCJoYXNFcnJvciIsInRocm93bkVycm9yIiwic3ViamVjdCIsIl90aHJvd0lmQ2xvc2VkIiwiY29weSIsInNsaWNlIiwiY29weV8xIiwiY29weV8xXzEiLCJfY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyIsIl9pbm5lclN1YnNjcmliZSIsImFzT2JzZXJ2YWJsZSIsIkFub255bW91c1N1YmplY3QiLCJCZWhhdmlvclN1YmplY3QiLCJfdmFsdWUiLCJnZXRWYWx1ZSIsImNvbmZpZ3VyYWJsZSIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImVuZW15SGFuZGxlciIsImVuZW1pZXMiLCJlbmVteSIsImNvbmNhdCIsIm1vdmVFbmVteSIsInlMaXN0Iiwic2V0dGluZ3MiLCJzaXplIiwiX2NhbnZhcyIsInJlc2l6ZUNhbnZhcyIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImFuaW1hdGlvbiIsInNob3RzIiwicGxheWVycyIsImdhbWVTdGFydGVkIiwiYW5pbWF0aW9uQWN0aXZlIiwicGxheWVyIiwibmV3UGxheWVyIiwic3BhY2VCZXR3ZWVuIiwidGlsZVdpZHRoIiwia2V5Ym9hcmQiLCJhbmltYXRlIiwiZ2FtZU92ZXIiLCJoYW5kbGVJbnB1dCIsIm1vdmVFbmVtaWVzIiwic2hvb3RBbmltYXRpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhY3R1YWxTY29yZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZm9udHNpemUiLCJmb250IiwiZmlsbFRleHQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFF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L1gsTUFNVixPQUhBd1ksR0FBTWxTLEtBQUsyTixHQUNYd0UsR0FBUW5TLEtBQUtzUyxHQUVOQSxFQTlET0MsQ0FBVSxJQUFLLElBQUssS0FFN0JsQixHQUFlLElBQUksRUFBTSxHQUFTYSxHQUFPZixHQUFjLEVBQUcsRUFBRyxHQUM3RHFCLEdBQWVmLEdBQVMvWCxLQUFPMlgsR0FBTW9CLFVBQ3BDLFNBQVMvSixLQUNmc0YsU0FBU2pCLGlCQUFpQixRQUFVMkYsSUFDbkMsT0FBUUEsRUFBUzVaLEtBQ2hCLElBQUssS0FDZ0IsSUFBaEJzWixJQUNIQSxJQUFjLEVBQ2RPLE1BRUFqSyxLQUVELE1BRUQsUUFDQzBKLElBQWMsS0FLbEIsSUFBSyxJQUFJN2EsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3ZCNFosR0FBYTlULFNBQ1osSUFBSSxFQUFNLEdBQVM2VSxHQUFPZixHQUFjTSxHQUFTL1gsS0FBTW5DLEVBQUlpYixHQUFjLElBSXBFLFNBQVNJLE1BRWhCLFNBQVNELEtBQ1J2VixXQUFXLEtBQ1YsR0FBT3lWLGNBQ1AxQixHQUFhMkIsY0FDYixJQUFLLElBQUk1VyxFQUFJLEVBQUdBLEVBQUlnVyxHQUFNL1YsT0FBUUQsSUFDakNnVyxHQUFNaFcsR0FBRzZXLGlCQUVOVixLQUNISixHQUFZZSxzQkFBc0JMLE1BeENSLEVBQUksSUE2QzFCLFNBQVNoVyxLQUNmc1csRUFxQk0sU0FBUzNWLEtBQ2ZkLFFBQVFDLElBQUksUUFDWjRWLElBQWtCLEVBQ2xCYSxxQkFBcUJqQixJQUNyQixJQUNJdFksR0FBS3dCLEdBQU9DLE1BQVErWCxLQUFnQixFQUNwQ3ZaLEVBQUl1QixHQUFPSyxPQUFTLEVBQ3hCLEdBQVE0WCxLQUFPLGNBQ2YsR0FBUUMsU0FBUyxZQUFhMVosRUFBR0MsR0FHbEM4TyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJpbXBvcnQgeyBFbmVteUhhbmRsZXIgfSBmcm9tIFwiLi9lbmVteUhhbmRsZXJcIjtcbmltcG9ydCB7IHNjb3JlLCBzdG9wIH0gZnJvbSBcIi4vbWFpblwiO1xuaW1wb3J0IHsgU2hvdCB9IGZyb20gXCIuL3Nob3RcIjtcblxuZXhwb3J0IGNsYXNzIEVuZW15IHtcblx0cHJpdmF0ZSBfY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXHRwcml2YXRlIF9saXZlOiBudW1iZXIgPSAxO1xuXHRwcml2YXRlIF9zaG9vdHM6IEFycmF5PFNob3Q+O1xuXHRwcml2YXRlIF9oYW5kbGVyOiBFbmVteUhhbmRsZXI7XG5cblx0Ly8gVE9ETyBtYXliZSBhIHRpbGUgc2VydmljZVxuXHRwcml2YXRlIF9zaGVldCA9IG5ldyBJbWFnZSgpO1xuXHRwcml2YXRlIF90aWxlRnJhbWVYID0gMDtcblx0cHJpdmF0ZSBfdGlsZUZyYW1lWSA9IDI7XG5cdC8vIFRPRE8gZ2V0IHRpbGUgZnJvbSB0aWxlIGNvbmZpZ1xuXHRwcml2YXRlIF90aWxlV2lkdGg6IG51bWJlciA9IDk7XG5cdHByaXZhdGUgX3RpbGVIZWlnaHQ6IG51bWJlciA9IDk7XG5cdHByaXZhdGUgX3Nwcml0ZUNoYW5nZUNvdW50ZXIgPSAwO1xuXHRwcml2YXRlIF96b29tOiBudW1iZXI7XG5cdHByaXZhdGUgX3pvb21lZFdpZHRoOiBudW1iZXI7XG5cdHByaXZhdGUgX3pvb21lZEhlaWdodDogbnVtYmVyO1xuXG5cdHByaXZhdGUgX3g6IG51bWJlcjtcblx0cHJpdmF0ZSBfeTogbnVtYmVyO1xuXHRwcml2YXRlIF9zcGVlZFg6IG51bWJlcjtcblx0cHJpdmF0ZSBfc3BlZWRZOiBudW1iZXI7XG5cblx0cHJpdmF0ZSBfY2FudmFzQ29sbGlzaW9uOiB7XG5cdFx0cmlnaHQ6IG51bWJlcjtcblx0XHRsZWZ0OiBudW1iZXI7XG5cdFx0dG9wOiBudW1iZXI7XG5cdFx0Ym90dG9tOiBudW1iZXI7XG5cdH07XG5cblx0Z3JpZCA9IDkwMDtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG5cdFx0c2hvb3RzOiBBcnJheTxTaG90Pixcblx0XHRoYW5kbGVyOiBFbmVteUhhbmRsZXIsXG5cdFx0em9vbTogbnVtYmVyLFxuXHRcdHg6IG51bWJlcixcblx0XHR5OiBudW1iZXJcblx0KSB7XG5cdFx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl9zcGVlZFggPSA1O1xuXHRcdHRoaXMuX3NwZWVkWSA9IDM1O1xuXHRcdHRoaXMuX3pvb20gPSB6b29tO1xuXHRcdHRoaXMuX3pvb21lZFdpZHRoID0gdGhpcy5fdGlsZVdpZHRoICogdGhpcy5fem9vbTtcblx0XHR0aGlzLl96b29tZWRIZWlnaHQgPSB0aGlzLl90aWxlSGVpZ2h0ICogdGhpcy5fem9vbTtcblx0XHR0aGlzLl9zaG9vdHMgPSBzaG9vdHM7XG5cdFx0dGhpcy5faGFuZGxlciA9IGhhbmRsZXI7XG5cblx0XHR0aGlzLl9jYW52YXNDb2xsaXNpb24gPSB7XG5cdFx0XHRyaWdodDogdGhpcy5fY29udGV4dC5jYW52YXMud2lkdGggLSB0aGlzLl96b29tZWRXaWR0aCxcblx0XHRcdGxlZnQ6IDAsXG5cdFx0XHR0b3A6IDAsXG5cdFx0XHRib3R0b206IHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCAtIHRoaXMuX3pvb21lZEhlaWdodCAqIDIsXG5cdFx0fTtcblx0XHR0aGlzLl9zaGVldC5zcmMgPSBcIi4uL2prb25zLWludmFkZXIvaW1nL2ppLXNoZWV0LnBuZ1wiO1xuXHR9XG5cblx0cHJpdmF0ZSBfdHJhbnNsYXRlKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0dGhpcy5fY29udGV4dC5jbGVhclJlY3QoXG5cdFx0XHR0aGlzLl94LFxuXHRcdFx0dGhpcy5feSxcblx0XHRcdHRoaXMuX3pvb21lZFdpZHRoLFxuXHRcdFx0dGhpcy5fem9vbWVkSGVpZ2h0XG5cdFx0KTtcblx0XHR0aGlzLl94ICs9IHg7XG5cdFx0dGhpcy5feSArPSB5O1xuXHRcdHRoaXMuX3JlbmRlckVuZW15KCk7XG5cdH1cblx0Ly8gUmVuZGVyIGVuZW15XG5cdHByaXZhdGUgX3JlbmRlckVuZW15KCk6IHZvaWQge1xuXHRcdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKFxuXHRcdFx0dGhpcy5fc2hlZXQsXG5cdFx0XHR0aGlzLl90aWxlV2lkdGggKiB0aGlzLl90aWxlRnJhbWVYLFxuXHRcdFx0dGhpcy5fdGlsZVdpZHRoICogdGhpcy5fdGlsZUZyYW1lWSxcblx0XHRcdHRoaXMuX3RpbGVXaWR0aCxcblx0XHRcdHRoaXMuX3RpbGVXaWR0aCxcblx0XHRcdHRoaXMuX3gsXG5cdFx0XHR0aGlzLl95LFxuXHRcdFx0dGhpcy5fem9vbWVkV2lkdGgsXG5cdFx0XHR0aGlzLl96b29tZWRIZWlnaHRcblx0XHQpO1xuXHR9XG5cblx0cHVibGljIG1vdmVFbmVteSgpIHtcblx0XHQvLyBjaGVjayBoaXQgZnVuY3Rpb25cblx0XHR0aGlzLl9oaXQoKTtcblx0XHR0aGlzLl9zcHJpdGVBbmltYXRpb24oKTtcblx0XHRpZiAoXG5cdFx0XHQodGhpcy5fc3BlZWRYID4gMCAmJiB0aGlzLl94IDw9IHRoaXMuX2NhbnZhc0NvbGxpc2lvbi5yaWdodCkgfHxcblx0XHRcdCh0aGlzLl9zcGVlZFggPCAwICYmIHRoaXMuX3ggPj0gdGhpcy5fY2FudmFzQ29sbGlzaW9uLmxlZnQpXG5cdFx0KSB7XG5cdFx0XHR0aGlzLl90cmFuc2xhdGUodGhpcy5fc3BlZWRYLCAwKTtcblx0XHR9XG5cdFx0aWYgKFxuXHRcdFx0KHRoaXMuX3NwZWVkWCA+IDAgJiYgdGhpcy5feCA+PSB0aGlzLl9jYW52YXNDb2xsaXNpb24ucmlnaHQpIHx8XG5cdFx0XHQodGhpcy5fc3BlZWRYIDwgMCAmJiB0aGlzLl94IDw9IHRoaXMuX2NhbnZhc0NvbGxpc2lvbi5sZWZ0KVxuXHRcdCkge1xuXHRcdFx0dGhpcy5fc3BlZWRYID0gLXRoaXMuX3NwZWVkWDtcblx0XHRcdHRoaXMuX3RyYW5zbGF0ZSgwLCB0aGlzLl9zcGVlZFkpO1xuXHRcdH1cblx0XHR0aGlzLl9kZWFkKCk7XG5cdFx0dGhpcy5fZ2FtZU92ZXIoKTtcblx0fVxuXG5cdHByaXZhdGUgX3Nwcml0ZUFuaW1hdGlvbigpIHtcblx0XHQvLyBjb3VudCdzIHVwIHRpbGwgYSBzcGVjaWZpZWQgbnVtYmVyLCB0aGVuIHJlc2V0XG5cdFx0aWYgKHRoaXMuX3Nwcml0ZUNoYW5nZUNvdW50ZXIgPj0gNTApIHtcblx0XHRcdHRoaXMuX3Nwcml0ZUNoYW5nZUNvdW50ZXIgPSAwO1xuXHRcdFx0Ly8gY2hhbmdlIGN1cnJlbnQgZnJhbWVcblx0XHRcdGlmICh0aGlzLl90aWxlRnJhbWVYIDwgMSkgdGhpcy5fdGlsZUZyYW1lWCsrO1xuXHRcdFx0ZWxzZSB0aGlzLl90aWxlRnJhbWVYID0gMDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fc3ByaXRlQ2hhbmdlQ291bnRlcisrO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX2hpdCgpIHtcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX3Nob290cy5sZW5ndGg7IGorKykge1xuXHRcdFx0bGV0IHNob290WCA9IHRoaXMuX3Nob290c1tqXS5nZXRYO1xuXHRcdFx0bGV0IHNob290WSA9IHRoaXMuX3Nob290c1tqXS5nZXRZO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRzaG9vdFkgPiB0aGlzLl95ICYmXG5cdFx0XHRcdHNob290WSA8PSB0aGlzLl95ICsgdGhpcy5fem9vbWVkSGVpZ2h0ICYmXG5cdFx0XHRcdHNob290WCA+PSB0aGlzLl94ICYmXG5cdFx0XHRcdHNob290WCA8PSB0aGlzLl94ICsgdGhpcy5fem9vbWVkV2lkdGhcblx0XHRcdCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkhJVFwiKTtcblx0XHRcdFx0dGhpcy5fc2hvb3RzW2pdLmhpdCgpO1xuXHRcdFx0XHR0aGlzLl9saXZlLS07XG5cdFx0XHRcdHNjb3JlKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9zaG9vdHNbal0uZ2V0WDtcblx0XHR9XG5cdH1cblx0cHJpdmF0ZSBfZGVhZCgpIHtcblx0XHRpZiAodGhpcy5fbGl2ZSA8PSAwKSB7XG5cdFx0XHR0aGlzLl9oYW5kbGVyLnJlbW92ZUVuZW15KHRoaXMpO1xuXHRcdFx0dGhpcy5fY29udGV4dC5jbGVhclJlY3QoXG5cdFx0XHRcdHRoaXMuX3gsXG5cdFx0XHRcdHRoaXMuX3ksXG5cdFx0XHRcdHRoaXMuX3pvb21lZFdpZHRoLFxuXHRcdFx0XHR0aGlzLl96b29tZWRIZWlnaHRcblx0XHRcdCk7XG5cdFx0XHRjb25zdCByYW5kb21YID1cblx0XHRcdFx0TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoIC8gOSkpICogOTtcblx0XHRcdGxldCByYW5kb21ZID0gTWF0aC5mbG9vcihcblx0XHRcdFx0TWF0aC5yYW5kb20oKSAqICh0aGlzLl9jYW52YXNDb2xsaXNpb24uYm90dG9tIC8gOSkgKiA5XG5cdFx0XHQpO1xuXHRcdFx0d2hpbGUgKFxuXHRcdFx0XHR0aGlzLl9oYW5kbGVyLmdldEVuZW1pZXNZLmZpbmQoKHkpID0+IHtcblx0XHRcdFx0XHRyYW5kb21ZID49IHkgJiYgcmFuZG9tWSA8PSByYW5kb21ZICsgdGhpcy5fem9vbWVkSGVpZ2h0O1xuXHRcdFx0XHR9KVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJhbmRvbVkgPVxuXHRcdFx0XHRcdE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLl9jb250ZXh0LmNhbnZhcy5oZWlnaHQgLyA5KSkgKiA5O1xuXHRcdFx0fVxuXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5faGFuZGxlci5hZGRFbmVteShcblx0XHRcdFx0XHRuZXcgRW5lbXkoXG5cdFx0XHRcdFx0XHR0aGlzLl9jb250ZXh0LFxuXHRcdFx0XHRcdFx0dGhpcy5fc2hvb3RzLFxuXHRcdFx0XHRcdFx0dGhpcy5faGFuZGxlcixcblx0XHRcdFx0XHRcdHRoaXMuX3pvb20sXG5cdFx0XHRcdFx0XHRyYW5kb21YLFxuXHRcdFx0XHRcdFx0cmFuZG9tWVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KTtcblx0XHRcdH0sIDEwMDAwKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogdGhlIEdhbWUgT3ZlciBmdW5jdGlvbiBpcyBjYWxlZCBkdXJpbmcgdGhlIGVuZW15IG1vdmVtZW50LlxuXHQgKiBpdCBzdG9wcyB0aGUgYW5pbWF0aW9uXG5cdCAqL1xuXHRwcml2YXRlIF9nYW1lT3ZlcigpIHtcblx0XHRpZiAodGhpcy5feSA+IHRoaXMuX2NhbnZhc0NvbGxpc2lvbi5ib3R0b20pIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiZmluaXNoXCIpO1xuXHRcdFx0c3RvcCgpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBnZXQgem9vbSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl96b29tO1xuXHR9XG5cblx0cHVibGljIGdldCB0aWxlV2lkdGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fdGlsZVdpZHRoO1xuXHR9XG5cblx0cHVibGljIGdldCB0aWxlSGVpZ2h0KCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3RpbGVIZWlnaHQ7XG5cdH1cblxuXHRwdWJsaWMgZ2V0IHkoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5feTtcblx0fVxufVxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20pIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxyXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcclxuICAgIHJldHVybiB0bztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzcyhjcmVhdGVJbXBsKSB7XG4gICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICBFcnJvci5jYWxsKGluc3RhbmNlKTtcbiAgICAgICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICB9O1xuICAgIHZhciBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgICBjdG9yRnVuYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gICAgcmV0dXJuIGN0b3JGdW5jO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRXJyb3JDbGFzcy5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnNcbiAgICAgICAgICAgID8gZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJylcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYXJyUmVtb3ZlKGFyciwgaXRlbSkge1xuICAgIGlmIChhcnIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIDAgPD0gaW5kZXggJiYgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyUmVtb3ZlLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG52YXIgU3Vic2NyaXB0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24oaW5pdGlhbFRlYXJkb3duKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbFRlYXJkb3duID0gaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLl90ZWFyZG93bnMgPSBudWxsO1xuICAgIH1cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcbiAgICAgICAgdmFyIGVycm9ycztcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgICAgICBpZiAoX3BhcmVudGFnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9wYXJlbnRhZ2VfMSA9IF9fdmFsdWVzKF9wYXJlbnRhZ2UpLCBfcGFyZW50YWdlXzFfMSA9IF9wYXJlbnRhZ2VfMS5uZXh0KCk7ICFfcGFyZW50YWdlXzFfMS5kb25lOyBfcGFyZW50YWdlXzFfMSA9IF9wYXJlbnRhZ2VfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50XzEgPSBfcGFyZW50YWdlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcGFyZW50YWdlXzFfMSAmJiAhX3BhcmVudGFnZV8xXzEuZG9uZSAmJiAoX2EgPSBfcGFyZW50YWdlXzEucmV0dXJuKSkgX2EuY2FsbChfcGFyZW50YWdlXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50YWdlLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5pdGlhbFRlYXJkb3duID0gdGhpcy5pbml0aWFsVGVhcmRvd247XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihpbml0aWFsVGVhcmRvd24pKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFRlYXJkb3duKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yID8gZS5lcnJvcnMgOiBbZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF90ZWFyZG93bnMgPSB0aGlzLl90ZWFyZG93bnM7XG4gICAgICAgICAgICBpZiAoX3RlYXJkb3ducykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RlYXJkb3ducyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3RlYXJkb3duc18xID0gX192YWx1ZXMoX3RlYXJkb3ducyksIF90ZWFyZG93bnNfMV8xID0gX3RlYXJkb3duc18xLm5leHQoKTsgIV90ZWFyZG93bnNfMV8xLmRvbmU7IF90ZWFyZG93bnNfMV8xID0gX3RlYXJkb3duc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlYXJkb3duXzEgPSBfdGVhcmRvd25zXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY1RlYXJkb3duKHRlYXJkb3duXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCA/IGVycm9ycyA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGVycm9ycykpLCBfX3JlYWQoZXJyLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGVhcmRvd25zXzFfMSAmJiAhX3RlYXJkb3duc18xXzEuZG9uZSAmJiAoX2IgPSBfdGVhcmRvd25zXzEucmV0dXJuKSkgX2IuY2FsbChfdGVhcmRvd25zXzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGVhcmRvd24gJiYgdGVhcmRvd24gIT09IHRoaXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGV4ZWNUZWFyZG93bih0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duLmNsb3NlZCB8fCB0ZWFyZG93bi5faGFzUGFyZW50KHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd24uX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHRoaXMuX3RlYXJkb3ducyA9IChfYSA9IHRoaXMuX3RlYXJkb3ducykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pLnB1c2godGVhcmRvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9oYXNQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICByZXR1cm4gX3BhcmVudGFnZSA9PT0gcGFyZW50IHx8IChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpICYmIF9wYXJlbnRhZ2UuaW5jbHVkZXMocGFyZW50KSk7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9hZGRQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpID8gKF9wYXJlbnRhZ2UucHVzaChwYXJlbnQpLCBfcGFyZW50YWdlKSA6IF9wYXJlbnRhZ2UgPyBbX3BhcmVudGFnZSwgcGFyZW50XSA6IHBhcmVudDtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX3JlbW92ZVBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIGlmIChfcGFyZW50YWdlID09PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgICAgYXJyUmVtb3ZlKF9wYXJlbnRhZ2UsIHBhcmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfdGVhcmRvd25zID0gdGhpcy5fdGVhcmRvd25zO1xuICAgICAgICBfdGVhcmRvd25zICYmIGFyclJlbW92ZShfdGVhcmRvd25zLCB0ZWFyZG93bik7XG4gICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGVhcmRvd24uX3JlbW92ZVBhcmVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZXhwb3J0IHZhciBFTVBUWV9TVUJTQ1JJUFRJT04gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG5leHBvcnQgZnVuY3Rpb24gaXNTdWJzY3JpcHRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uIHx8XG4gICAgICAgICh2YWx1ZSAmJiAnY2xvc2VkJyBpbiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnJlbW92ZSkgJiYgaXNGdW5jdGlvbih2YWx1ZS5hZGQpICYmIGlzRnVuY3Rpb24odmFsdWUudW5zdWJzY3JpYmUpKSk7XG59XG5mdW5jdGlvbiBleGVjVGVhcmRvd24odGVhcmRvd24pIHtcbiAgICBpZiAoaXNGdW5jdGlvbih0ZWFyZG93bikpIHtcbiAgICAgICAgdGVhcmRvd24oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRlYXJkb3duLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcCIsImV4cG9ydCB2YXIgY29uZmlnID0ge1xuICAgIG9uVW5oYW5kbGVkRXJyb3I6IG51bGwsXG4gICAgb25TdG9wcGVkTm90aWZpY2F0aW9uOiBudWxsLFxuICAgIFByb21pc2U6IHVuZGVmaW5lZCxcbiAgICB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nOiBmYWxzZSxcbiAgICB1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6IGZhbHNlLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmV4cG9ydCB2YXIgdGltZW91dFByb3ZpZGVyID0ge1xuICAgIHNldFRpbWVvdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRUaW1lb3V0KSB8fCBzZXRUaW1lb3V0KS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpO1xuICAgIH0sXG4gICAgY2xlYXJUaW1lb3V0OiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IHRpbWVvdXRQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgcmV0dXJuICgoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLmNsZWFyVGltZW91dCkgfHwgY2xlYXJUaW1lb3V0KShoYW5kbGUpO1xuICAgIH0sXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lb3V0UHJvdmlkZXIuanMubWFwIiwiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4uL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycikge1xuICAgIHRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9uVW5oYW5kbGVkRXJyb3IgPSBjb25maWcub25VbmhhbmRsZWRFcnJvcjtcbiAgICAgICAgaWYgKG9uVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVwb3J0VW5oYW5kbGVkRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vb3AuanMubWFwIiwiZXhwb3J0IHZhciBDT01QTEVURV9OT1RJRklDQVRJT04gPSAoZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdDJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpOyB9KSgpO1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yTm90aWZpY2F0aW9uKGVycm9yKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyb3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5leHROb3RpZmljYXRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdOJywgdmFsdWUsIHVuZGVmaW5lZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGtpbmQsIHZhbHVlLCBlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzLCBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbC9ub29wJztcbmltcG9ydCB7IG5leHROb3RpZmljYXRpb24sIGVycm9yTm90aWZpY2F0aW9uLCBDT01QTEVURV9OT1RJRklDQVRJT04gfSBmcm9tICcuL05vdGlmaWNhdGlvbkZhY3Rvcmllcyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xudmFyIFN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbikge1xuICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIGlmIChpc1N1YnNjcmlwdGlvbihkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBFTVBUWV9PQlNFUlZFUjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmliZXIuY3JlYXRlID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNhZmVTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihlcnJvck5vdGlmaWNhdGlvbihlcnIpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oQ09NUExFVEVfTk9USUZJQ0FUSU9OLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlcjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJzY3JpYmVyIH07XG52YXIgU2FmZVN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgKG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0LCBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yLCBjb21wbGV0ZSA9IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlKTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0XzE7XG4gICAgICAgICAgICBpZiAoX3RoaXMgJiYgY29uZmlnLnVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfMSA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfMS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVuc3Vic2NyaWJlKCk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBuZXh0ID09PSBudWxsIHx8IG5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5leHQuYmluZChjb250ZXh0XzEpO1xuICAgICAgICAgICAgZXJyb3IgPSBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IuYmluZChjb250ZXh0XzEpO1xuICAgICAgICAgICAgY29tcGxldGUgPSBjb21wbGV0ZSA9PT0gbnVsbCB8fCBjb21wbGV0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcGxldGUuYmluZChjb250ZXh0XzEpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0ge1xuICAgICAgICAgICAgbmV4dDogbmV4dCA/IHdyYXBGb3JFcnJvckhhbmRsaW5nKG5leHQsIF90aGlzKSA6IG5vb3AsXG4gICAgICAgICAgICBlcnJvcjogd3JhcEZvckVycm9ySGFuZGxpbmcoZXJyb3IgIT09IG51bGwgJiYgZXJyb3IgIT09IHZvaWQgMCA/IGVycm9yIDogZGVmYXVsdEVycm9ySGFuZGxlciwgX3RoaXMpLFxuICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlID8gd3JhcEZvckVycm9ySGFuZGxpbmcoY29tcGxldGUsIF90aGlzKSA6IG5vb3AsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuZnVuY3Rpb24gd3JhcEZvckVycm9ySGFuZGxpbmcoaGFuZGxlciwgaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBoYW5kbGVyLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLl9zeW5jRXJyb3JIYWNrX2lzU3Vic2NyaWJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX19zeW5jRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JIYW5kbGVyKGVycikge1xuICAgIHRocm93IGVycjtcbn1cbmZ1bmN0aW9uIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKSB7XG4gICAgdmFyIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiA9IGNvbmZpZy5vblN0b3BwZWROb3RpZmljYXRpb247XG4gICAgb25TdG9wcGVkTm90aWZpY2F0aW9uICYmIHRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpOyB9KTtcbn1cbmV4cG9ydCB2YXIgRU1QVFlfT0JTRVJWRVIgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IG5vb3AsXG4gICAgZXJyb3I6IGRlZmF1bHRFcnJvckhhbmRsZXIsXG4gICAgY29tcGxldGU6IG5vb3AsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXAiLCJleHBvcnQgdmFyIG9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUpIHx8ICdAQG9ic2VydmFibGUnOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwIiwiaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXAiLCJpbXBvcnQgeyBTYWZlU3Vic2NyaWJlciwgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xudmFyIE9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBpc1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQpID8gb2JzZXJ2ZXJPck5leHQgOiBuZXcgU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhpcy5fZGVwcmVjYXRlZFN5bmNFcnJvclN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsIG9wZXJhdG9yID0gX2Eub3BlcmF0b3IsIHNvdXJjZSA9IF9hLnNvdXJjZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKG9wZXJhdG9yXG4gICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvci5jYWxsKHN1YnNjcmliZXIsIHNvdXJjZSlcbiAgICAgICAgICAgICAgICA6IHNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9kZXByZWNhdGVkU3luY0Vycm9yU3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGxvY2FsU3Vic2NyaWJlciA9IHN1YnNjcmliZXI7XG4gICAgICAgIGxvY2FsU3Vic2NyaWJlci5fc3luY0Vycm9ySGFja19pc1N1YnNjcmliaW5nID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChvcGVyYXRvci5jYWxsKHN1YnNjcmliZXIsIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHRoaXMuX3N1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdWJzY3JpYmVyLl9fc3luY0Vycm9yID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkZXN0ID0gbG9jYWxTdWJzY3JpYmVyO1xuICAgICAgICB3aGlsZSAoZGVzdCkge1xuICAgICAgICAgICAgaWYgKCdfX3N5bmNFcnJvcicgaW4gZGVzdCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGRlc3QuX19zeW5jRXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzdCA9IGRlc3QuZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxTdWJzY3JpYmVyLl9zeW5jRXJyb3JIYWNrX2lzU3Vic2NyaWJpbmcgPSBmYWxzZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID09PSBudWxsIHx8IHN1YnNjcmlwdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0aW9ucy5sZW5ndGggPyBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpIDogdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICh2YWx1ZSA9IHgpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBwcm9taXNlQ3RvciAhPT0gbnVsbCAmJiBwcm9taXNlQ3RvciAhPT0gdm9pZCAwID8gcHJvbWlzZUN0b3IgOiBjb25maWcuUHJvbWlzZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogUHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGlzT2JzZXJ2ZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmVycm9yKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmNvbXBsZXRlKTtcbn1cbmZ1bmN0aW9uIGlzU3Vic2NyaWJlcih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB8fCAoaXNPYnNlcnZlcih2YWx1ZSkgJiYgaXNTdWJzY3JpcHRpb24odmFsdWUpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaGFzTGlmdChzb3VyY2UpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UubGlmdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gb3BlcmF0ZShpbml0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc0xpZnQoc291cmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KGZ1bmN0aW9uIChsaWZ0ZWRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdChsaWZ0ZWRTb3VyY2UsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZScpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saWZ0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wZXJhdG9yU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub25GaW5hbGl6ZSA9IG9uRmluYWxpemU7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gb25OZXh0XG4gICAgICAgICAgICA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9uTmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX25leHQ7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IG9uRXJyb3JcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IG9uQ29tcGxldGVcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT3BlcmF0b3JTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY2xvc2VkID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgIWNsb3NlZCAmJiAoKF9hID0gdGhpcy5vbkZpbmFsaXplKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKSk7XG4gICAgfTtcbiAgICByZXR1cm4gT3BlcmF0b3JTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPcGVyYXRvclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZXJhdG9yU3Vic2NyaWJlci5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IE9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwIiwiZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi9pc0Z1bmN0aW9uXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLnRoZW4pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXJyYXkuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlcmF0b3IuanMubWFwIiwiaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iaikge1xuICAgIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiICsgKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyBpbnB1dCArIFwiJ1wiKSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dVbm9ic2VydmFibGVFcnJvci5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jR2VuZXJhdG9yLCBfX2F3YWl0LCBfX2dlbmVyYXRvciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcl8xKCkge1xuICAgICAgICB2YXIgcmVhZGVyLCBfYSwgdmFsdWUsIGRvbmU7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVlKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQocmVhZGVyLnJlYWQoKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCksIHZhbHVlID0gX2EudmFsdWUsIGRvbmUgPSBfYS5kb25lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHJldHVybiBbMywgNV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdCh2b2lkIDApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCwgX19hd2FpdCh2YWx1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFs0LCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtTGlrZShvYmopIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmouZ2V0UmVhZGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImltcG9ydCB7IF9fYXN5bmNWYWx1ZXMsIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzUmVhZGFibGVTdHJlYW1MaWtlLCByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKSA6IGlubmVyRnJvbShpbnB1dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJGcm9tKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVByb21pc2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FzeW5jSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KTtcbn1cbmZ1bmN0aW9uIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5TGlrZShhcnJheSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb21pc2VcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pXG4gICAgICAgICAgICAudGhlbihudWxsLCByZXBvcnRVbmhhbmRsZWRFcnJvcik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmcm9tSXRlcmFibGUoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVyYWJsZV8xID0gX192YWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8xXzEgPSBpdGVyYWJsZV8xLm5leHQoKTsgIWl0ZXJhYmxlXzFfMS5kb25lOyBpdGVyYWJsZV8xXzEgPSBpdGVyYWJsZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmFibGVfMV8xICYmICFpdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBpdGVyYWJsZV8xLnJldHVybikpIF9hLmNhbGwoaXRlcmFibGVfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pKTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3MoYXN5bmNJdGVyYWJsZSwgc3Vic2NyaWJlcikge1xuICAgIHZhciBhc3luY0l0ZXJhYmxlXzEsIGFzeW5jSXRlcmFibGVfMV8xO1xuICAgIHZhciBlXzIsIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlLCBlXzJfMTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFswLCA1LCA2LCAxMV0pO1xuICAgICAgICAgICAgICAgICAgICBhc3luY0l0ZXJhYmxlXzEgPSBfX2FzeW5jVmFsdWVzKGFzeW5jSXRlcmFibGUpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzQsIGFzeW5jSXRlcmFibGVfMS5uZXh0KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgPSBfYi5zZW50KCksICFhc3luY0l0ZXJhYmxlXzFfMS5kb25lKSkgcmV0dXJuIFszLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhc3luY0l0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMywgMV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGVfMl8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBlXzIgPSB7IGVycm9yOiBlXzJfMSB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNiwgLCA5LCAxMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhc3luY0l0ZXJhYmxlXzFfMSAmJiAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBhc3luY0l0ZXJhYmxlXzEucmV0dXJuKSkpIHJldHVybiBbMywgOF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX2EuY2FsbChhc3luY0l0ZXJhYmxlXzEpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA4O1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXAiLCJpbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBtZXJnZUludGVybmFscyB9IGZyb20gJy4vbWVyZ2VJbnRlcm5hbHMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIGlmIChpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkoaW5uZXJGcm9tKHByb2plY3QoYSwgaSkpKTsgfSwgY29uY3VycmVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7IHJldHVybiBtZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5pbXBvcnQgeyBPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50LCBvbkJlZm9yZU5leHQsIGV4cGFuZCwgaW5uZXJTdWJTY2hlZHVsZXIsIGFkZGl0aW9uYWxUZWFyZG93bikge1xuICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICB2YXIgYWN0aXZlID0gMDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0NvbXBsZXRlICYmICFidWZmZXIubGVuZ3RoICYmICFhY3RpdmUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG91dGVyTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gKGFjdGl2ZSA8IGNvbmN1cnJlbnQgPyBkb0lubmVyU3ViKHZhbHVlKSA6IGJ1ZmZlci5wdXNoKHZhbHVlKSk7IH07XG4gICAgdmFyIGRvSW5uZXJTdWIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgZXhwYW5kICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIGFjdGl2ZSsrO1xuICAgICAgICB2YXIgaW5uZXJDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgICAgICBvbkJlZm9yZU5leHQgPT09IG51bGwgfHwgb25CZWZvcmVOZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkJlZm9yZU5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoZXhwYW5kKSB7XG4gICAgICAgICAgICAgICAgb3V0ZXJOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbm5lckNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaW5uZXJDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZS0tO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJlZFZhbHVlID0gYnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclN1YlNjaGVkdWxlciA/IHN1YnNjcmliZXIuYWRkKGlubmVyU3ViU2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7IH0pKSA6IGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChidWZmZXIubGVuZ3RoICYmIGFjdGl2ZSA8IGNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgc291cmNlLnN1YnNjcmliZShuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG91dGVyTmV4dCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRpdGlvbmFsVGVhcmRvd24gPT09IG51bGwgfHwgYWRkaXRpb25hbFRlYXJkb3duID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGRpdGlvbmFsVGVhcmRvd24oKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VJbnRlcm5hbHMuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tIFwiLi4vb3BlcmF0b3JzL21hcFwiO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuZnVuY3Rpb24gY2FsbE9yQXBwbHkoZm4sIGFyZ3MpIHtcbiAgICByZXR1cm4gaXNBcnJheShhcmdzKSA/IGZuLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSkgOiBmbihhcmdzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXBPbmVPck1hbnlBcmdzKGZuKSB7XG4gICAgcmV0dXJuIG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gY2FsbE9yQXBwbHkoZm4sIGFyZ3MpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcE9uZU9yTWFueUFyZ3MuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tZXJnZU1hcCc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBtYXBPbmVPck1hbnlBcmdzIH0gZnJvbSAnLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzJztcbmltcG9ydCB7IGludGVybmFsRnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xudmFyIG5vZGVFdmVudEVtaXR0ZXJNZXRob2RzID0gWydhZGRMaXN0ZW5lcicsICdyZW1vdmVMaXN0ZW5lciddO1xudmFyIGV2ZW50VGFyZ2V0TWV0aG9kcyA9IFsnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJ107XG52YXIganF1ZXJ5TWV0aG9kcyA9IFsnb24nLCAnb2ZmJ107XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpO1xuICAgIH1cbiAgICB2YXIgX2EgPSBfX3JlYWQoaXNFdmVudFRhcmdldCh0YXJnZXQpXG4gICAgICAgID8gZXZlbnRUYXJnZXRNZXRob2RzLm1hcChmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9OyB9KVxuICAgICAgICA6XG4gICAgICAgICAgICBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICAgICAgICAgICAgPyBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgIDogaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgID8ganF1ZXJ5TWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICA6IFtdLCAyKSwgYWRkID0gX2FbMF0sIHJlbW92ZSA9IF9hWzFdO1xuICAgIGlmICghYWRkKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKHN1YlRhcmdldCkgeyByZXR1cm4gZnJvbUV2ZW50KHN1YlRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKTsgfSkoaW50ZXJuYWxGcm9tQXJyYXkodGFyZ2V0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIubmV4dCgxIDwgYXJncy5sZW5ndGggPyBhcmdzIDogYXJnc1swXSk7XG4gICAgICAgIH07XG4gICAgICAgIGFkZChoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZShoYW5kbGVyKTsgfTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7IHJldHVybiBmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gdGFyZ2V0W21ldGhvZE5hbWVdKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07IH07XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkTGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUxpc3RlbmVyKTtcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0Lm9uKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5vZmYpO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldCh0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikgJiYgaXNGdW5jdGlvbih0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwIiwiaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IGZyb21BcnJheUxpa2UgfSBmcm9tICcuL2Zyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIGludGVybmFsRnJvbUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSA6IGZyb21BcnJheUxpa2UoaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUFycmF5LmpzLm1hcCIsImltcG9ydCB7IGZyb21FdmVudCwgT2JzZXJ2YWJsZSB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcbmltcG9ydCB7IFNob3QgfSBmcm9tIFwiLi9zaG90XCI7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xuXHQvLyBjYW52YXMgY29udGV4dCBmb3IgZHJhd2luZyBzaGFwZXNcblx0cHJpdmF0ZSBfY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG5cdHByaXZhdGUgX3Nob3Q6IFNob3Q7XG5cblx0Ly8gY29tcGxldGUgdGlsZSBzaGVldFxuXHRwcml2YXRlIF9zaGVldCA9IG5ldyBJbWFnZSgpO1xuXG5cdC8vIGNvbnRyb2wga2V5cyBmb3IgbW92aW5nIGxlZnQgYW5kIHJpZ2h0IGFuZCBmaXJlIGEgc2hvdFxuXHRwcml2YXRlIF9sZWZ0OiBzdHJpbmc7XG5cdHByaXZhdGUgX3JpZ2h0OiBzdHJpbmc7XG5cdHByaXZhdGUgX2ZpcmU6IHN0cmluZztcblxuXHQvLyBwbGF5ZXIgY29vcmRpbmF0ZXMgYW5kIHZlbG9jaXR5XG5cdHByaXZhdGUgX3g6IG51bWJlcjtcblx0cHJpdmF0ZSBfeTogbnVtYmVyO1xuXHRwcml2YXRlIF92ZWxvY2l0eTogbnVtYmVyID0gNDtcblxuXHQvLyBzYXZlIGEgbGlzdCBvZiBwcmVzc2VkIGtleXMgdG8gYWxsb3cgbXVsdGlwbGUgcHJlc3NlZCBrZXlzIGF0IHRoZSBzYW1lIHRpbWVcblx0cHJpdmF0ZSBwcmVzc2VkX2tleXM6IHN0cmluZ1tdID0gW107XG5cblx0Ly8gcmVjb2duaXplIHdoZW4gYSBrZXkgaXMgZG93biBvbiB0aGUga2V5Ym9hcmRcblx0cHJpdmF0ZSBfa2V5ZG93biA9IGZyb21FdmVudDxLZXlib2FyZEV2ZW50Pihkb2N1bWVudCwgXCJrZXlkb3duXCIpO1xuXHRwcml2YXRlIF9rZXlkb3duJDogT2JzZXJ2YWJsZTx2b2lkPiA9IHRoaXMuX2tleWRvd24ucGlwZShcblx0XHRtYXAoKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG5cdFx0XHQvLyBhZGQga2V5IHRvIHByZXNzZWQga2V5cyB3aGVuIHByZXNzZWRcblx0XHRcdHRoaXMucHJlc3NlZF9rZXlzLnB1c2goZXZlbnQua2V5KTtcblx0XHR9KVxuXHQpO1xuXG5cdC8vIHJlY29nbml6ZSB3aGVuIGEga2V5IGlzIHVwIGFmdGVyIGEga2V5IHdhcyBkb3duIG9uIHRoZSBrZXlib2FyZFxuXHRwcml2YXRlIF9rZXl1cCA9IGZyb21FdmVudDxLZXlib2FyZEV2ZW50Pihkb2N1bWVudCwgXCJrZXl1cFwiKTtcblx0cHJpdmF0ZSBfa2V5dXAkOiBPYnNlcnZhYmxlPHZvaWQ+ID0gdGhpcy5fa2V5dXAucGlwZShcblx0XHRtYXAoKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG5cdFx0XHQvLyByZW1vdmUga2V5IGZyb20gcHJlc3NlZCBrZXlzIHdoZW4gbm90IHByZXNzZWQgYW55bW9yZVxuXHRcdFx0dGhpcy5wcmVzc2VkX2tleXMgPSB0aGlzLnByZXNzZWRfa2V5cy5maWx0ZXIoKGspID0+IGsgIT09IGV2ZW50LmtleSk7XG5cdFx0fSlcblx0KTtcblxuXHRrZXlkb3duU3Vic2NyaXB0aW9uID0gdGhpcy5fa2V5ZG93biQuc3Vic2NyaWJlKCk7XG5cdGtleXVwU3Vic2NyaXB0aW9uID0gdGhpcy5fa2V5dXAkLnN1YnNjcmliZSgpO1xuXG5cdC8vIHRpbGUgc2V0dGluZ3Ncblx0cHJpdmF0ZSBfem9vbWVkU2l6ZTogbnVtYmVyO1xuXHRwcml2YXRlIF90aWxlU2l6ZTogbnVtYmVyID0gOTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG5cdFx0c2hvdDogU2hvdCxcblx0XHRsZWZ0OiBzdHJpbmcsXG5cdFx0cmlnaHQ6IHN0cmluZyxcblx0XHRmaXJlOiBzdHJpbmcsXG5cdFx0em9vbTogbnVtYmVyXG5cdCkge1xuXHRcdC8vIGFzc2lnbiBjb250ZXh0XG5cdFx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG5cblx0XHQvLyBhc3NpZ24gc2hvdFxuXHRcdHRoaXMuX3Nob3QgPSBzaG90O1xuXG5cdFx0Ly8gYXNzaWduIHBsYXllciBjb250cm9sc1xuXHRcdHRoaXMuX2xlZnQgPSBsZWZ0O1xuXHRcdHRoaXMuX3JpZ2h0ID0gcmlnaHQ7XG5cdFx0dGhpcy5fZmlyZSA9IGZpcmU7XG5cblx0XHQvLyBhc3NpZ24gem9vbWVkIHNpemVcblx0XHR0aGlzLl96b29tZWRTaXplID0gem9vbSAqIHRoaXMuX3RpbGVTaXplO1xuXG5cdFx0Ly8gYXNzaWduIGNvb3JkaW5hdGVzXG5cdFx0dGhpcy5feSA9IGNvbnRleHQuY2FudmFzLmhlaWdodCAtIHRoaXMuX3pvb21lZFNpemU7XG5cdFx0dGhpcy5feCA9IChjb250ZXh0LmNhbnZhcy53aWR0aCAtIHRoaXMuX3pvb21lZFNpemUpIC8gMjtcblxuXHRcdC8vIGFzc2lnbiB0aWxlIHNoZWV0XG5cdFx0dGhpcy5fc2hlZXQuc3JjID0gXCIuLi9qa29ucy1pbnZhZGVyL2ltZy9qaS1zaGVldC5wbmdcIjtcblxuXHRcdC8vIGRyYXcgcGxheWVyIG9uIHBhZ2UgbG9hZFxuXHRcdHRoaXMuX3JlbmRlcih0cnVlKTtcblx0fVxuXG5cdHB1YmxpYyBoYW5kbGVJbnB1dCgpIHtcblx0XHQvLyBleGVjdXRlIGV2ZW50cyBvZiBwbGF5ZXIgb24gaW5wdXRcblx0XHRpZiAodGhpcy5wcmVzc2VkX2tleXMuaW5jbHVkZXModGhpcy5fbGVmdCkpIHRoaXMuX21vdmVMZWZ0KCk7XG5cdFx0aWYgKHRoaXMucHJlc3NlZF9rZXlzLmluY2x1ZGVzKHRoaXMuX3JpZ2h0KSkgdGhpcy5fbW92ZVJpZ2h0KCk7XG5cdFx0aWYgKHRoaXMucHJlc3NlZF9rZXlzLmluY2x1ZGVzKHRoaXMuX2ZpcmUpKSB0aGlzLl9maXJlU2hvdCgpO1xuXG5cdFx0Ly8gdXBkYXRlIHBsYXllclxuXHRcdHRoaXMuX2NsZWFyKCk7XG5cdFx0dGhpcy5fcmVuZGVyKCk7XG5cdH1cblxuXHQvLyBtb3ZlcyBsZWZ0IGJ1dCBub3Qgb3V0IG9mIHRoZSBzY3JlZW5cblx0cHJpdmF0ZSBfbW92ZUxlZnQoKSB7XG5cdFx0dGhpcy5feCA9IHRoaXMuX3ggLSB0aGlzLl92ZWxvY2l0eSA+PSAwID8gdGhpcy5feCAtIHRoaXMuX3ZlbG9jaXR5IDogMDtcblx0fVxuXG5cdC8vIG1vdmVzIHJpZ2h0IGJ1dCBub3Qgb3V0IG9mIHRoZSBzY3JlZW5cblx0cHJpdmF0ZSBfbW92ZVJpZ2h0KCkge1xuXHRcdHRoaXMuX3ggPVxuXHRcdFx0dGhpcy5feCArIHRoaXMuX3pvb21lZFNpemUgPD0gdGhpcy5fY29udGV4dC5jYW52YXMud2lkdGhcblx0XHRcdFx0PyB0aGlzLl94ICsgdGhpcy5fdmVsb2NpdHlcblx0XHRcdFx0OiB0aGlzLl94O1xuXHR9XG5cblx0cHJpdmF0ZSBfZmlyZVNob3QoKSB7XG5cdFx0dGhpcy5fc2hvdC5zaG9vdCh0aGlzLl94ICsgdGhpcy5fem9vbWVkU2l6ZSAvIDIsIHRoaXMuX3kpO1xuXHR9XG5cblx0Ly8gY2xlYXIgcGxheWVyIG9uIHNjcmVlblxuXHRwcml2YXRlIF9jbGVhcigpIHtcblx0XHR0aGlzLl9jb250ZXh0LmNsZWFyUmVjdChcblx0XHRcdHRoaXMuX3ggLSB0aGlzLl92ZWxvY2l0eSxcblx0XHRcdHRoaXMuX3ksXG5cdFx0XHR0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCxcblx0XHRcdHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodFxuXHRcdCk7XG5cdH1cblxuXHQvLyBkcmF3IHBsYXllciBvbiBzY3JlZW5cblx0cHJpdmF0ZSBfcmVuZGVyKG9ubG9hZD86IGJvb2xlYW4pIHtcblx0XHRpZiAob25sb2FkKSB7XG5cdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcblx0XHRcdHRoaXMuX3NoZWV0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhhdC5fY29udGV4dC5kcmF3SW1hZ2UoXG5cdFx0XHRcdFx0dGhhdC5fc2hlZXQsXG5cdFx0XHRcdFx0MCxcblx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdDksXG5cdFx0XHRcdFx0OSxcblx0XHRcdFx0XHR0aGF0Ll94LFxuXHRcdFx0XHRcdHRoYXQuX3ksXG5cdFx0XHRcdFx0dGhhdC5fem9vbWVkU2l6ZSxcblx0XHRcdFx0XHR0aGF0Ll96b29tZWRTaXplXG5cdFx0XHRcdCk7XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmRyYXdJbWFnZShcblx0XHRcdFx0dGhpcy5fc2hlZXQsXG5cdFx0XHRcdDAsXG5cdFx0XHRcdDAsXG5cdFx0XHRcdDksXG5cdFx0XHRcdDksXG5cdFx0XHRcdHRoaXMuX3gsXG5cdFx0XHRcdHRoaXMuX3ksXG5cdFx0XHRcdHRoaXMuX3pvb21lZFNpemUsXG5cdFx0XHRcdHRoaXMuX3pvb21lZFNpemVcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG59XG4iLCJleHBvcnQgY2xhc3MgU2hvdCB7XG5cdC8vIGNhbnZhcyBjb250ZXh0IGZvciBkcmF3aW5nIHNoYXBlc1xuXHRwcml2YXRlIF9jb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cblx0Ly8gc2hvdCBjb29yZGluYXRlcyBhbmQgdmVsb2NpdHlcblx0cHJpdmF0ZSBfeDogbnVtYmVyO1xuXHRwcml2YXRlIF95OiBudW1iZXI7XG5cdHByaXZhdGUgX3ZlbG9jaXR5OiBudW1iZXIgPSAyMDtcblxuXHQvLyBkZWZpbmVzIHRoZSBzaG90IGxlbmd0aCBhbmQgdGhpY2tuZXNzIGZvciB0aGUgZHJhd2luZyBvZiBzaG90XG5cdHByaXZhdGUgX2xlbmd0aDogbnVtYmVyID0gMTA7XG5cdHByaXZhdGUgX3RoaWNrbmVzczogbnVtYmVyID0gNTtcblxuXHRjb25zdHJ1Y3Rvcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcblx0XHR0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcblx0XHR0aGlzLl94ID0gMDtcblx0XHR0aGlzLl95ID0gMDtcblx0fVxuXG5cdC8qKlxuXHQgKiBzaG9vdCBpZiB0aGVyZSBpcyBubyBhY3R1YWwgc2hvb3QgYW4gdGhlIGZpZWxkXG5cdCAqL1xuXHRwdWJsaWMgc2hvb3QocG9zaXRpb25YOiBudW1iZXIsIHBvc2l0aW9uWTogbnVtYmVyKSB7XG5cdFx0aWYgKHRoaXMuX3kgPD0gMCkge1xuXHRcdFx0dGhpcy5fY2xlYXIoKTtcblx0XHRcdHRoaXMuX3ggPSBwb3NpdGlvblg7XG5cdFx0XHR0aGlzLl95ID0gcG9zaXRpb25ZO1xuXHRcdH1cblx0fVxuXHQvKipcblx0ICogaGl0IHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbnl0aGluZyBpcyBoaXR0ZW4gYnkgdGhlIHNob3Rcblx0ICovXG5cdHB1YmxpYyBoaXQoKSB7XG5cdFx0dGhpcy5fY2xlYXIoKTtcblx0XHR0aGlzLl95ID0gMDtcblx0fVxuXG5cdC8qKlxuXHQgKiBjaGVja3MgaWYgdGhlIHNob290IGlzIGluIHRoZSBmaWVsZFxuXHQgKiB0aGFuIGl0IGNsZWFycyB0aGUgb2xkIHNob290XG5cdCAqIHRoYW4gaXQgbW92ZXMgdGhlIHNob290IHVwIGFuZCBwYWludCBpdFxuXHQgKi9cblx0cHVibGljIHNob290QW5pbWF0aW9uKCkge1xuXHRcdGlmICh0aGlzLl95IDw9IDApIHtcblx0XHRcdHRoaXMuX2NsZWFyKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fY2xlYXIoKTtcblx0XHR0aGlzLl95IC09IHRoaXMuX3ZlbG9jaXR5O1xuXHRcdHRoaXMuX3JlbmRlcigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIGNsZWFycyB0aGUgY3VycmVudCBzaG9vdFxuXHQgKi9cblx0cHJpdmF0ZSBfY2xlYXIoKSB7XG5cdFx0dGhpcy5fY29udGV4dC5jbGVhclJlY3QoXG5cdFx0XHR0aGlzLl94IC0gdGhpcy5fdGhpY2tuZXNzIC8gMixcblx0XHRcdHRoaXMuX3kgLSB0aGlzLl9sZW5ndGgsXG5cdFx0XHR0aGlzLl90aGlja25lc3MgKyAwLjUsXG5cdFx0XHR0aGlzLl9sZW5ndGggKyAwLjFcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIGRyYXdzIHRoZSBzaG90IG9uIHNjcmVlblxuXHQgKi9cblx0cHJpdmF0ZSBfcmVuZGVyKCkge1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gXCJyZWRcIjtcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KFxuXHRcdFx0dGhpcy5feCAtIHRoaXMuX3RoaWNrbmVzcyAvIDIsXG5cdFx0XHR0aGlzLl95IC0gdGhpcy5fbGVuZ3RoLFxuXHRcdFx0dGhpcy5fdGhpY2tuZXNzLFxuXHRcdFx0dGhpcy5fbGVuZ3RoXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBnZXQgeCBwb3NpdGlvbiBvZiB0aGUgc2hvdFxuXHQgKi9cblx0cHVibGljIGdldCBnZXRYKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3g7XG5cdH1cblx0LyoqXG5cdCAqIGdldCB5IHBvc2l0aW9uIG9mIHRoZSBzaG90XG5cdCAqL1xuXHRwdWJsaWMgZ2V0IGdldFkoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5feTtcblx0fVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5leHBvcnQgdmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yID0gY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCgpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnb2JqZWN0IHVuc3Vic2NyaWJlZCc7XG4gICAgfTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIEVNUFRZX1NVQlNDUklQVElPTiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIFN1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnRocm93bkVycm9yID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJqZWN0LnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgICAgIHN1YmplY3Qub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fdGhyb3dJZkNsb3NlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgY29weSA9IHRoaXMub2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvcHlfMSA9IF9fdmFsdWVzKGNvcHkpLCBjb3B5XzFfMSA9IGNvcHlfMS5uZXh0KCk7ICFjb3B5XzFfMS5kb25lOyBjb3B5XzFfMSA9IGNvcHlfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gY29weV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29weV8xXzEgJiYgIWNvcHlfMV8xLmRvbmUgJiYgKF9hID0gY29weV8xLnJldHVybikpIF9hLmNhbGwoY29weV8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50aHJvd25FcnJvciA9IGVycjtcbiAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgIHdoaWxlIChvYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICAgICAgd2hpbGUgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gbnVsbDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lclN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9pbm5lclN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGhhc0Vycm9yID0gX2EuaGFzRXJyb3IsIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZCwgb2JzZXJ2ZXJzID0gX2Eub2JzZXJ2ZXJzO1xuICAgICAgICByZXR1cm4gaGFzRXJyb3IgfHwgaXNTdG9wcGVkXG4gICAgICAgICAgICA/IEVNUFRZX1NVQlNDUklQVElPTlxuICAgICAgICAgICAgOiAob2JzZXJ2ZXJzLnB1c2goc3Vic2NyaWJlciksIG5ldyBTdWJzY3JpcHRpb24oZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJyUmVtb3ZlKG9ic2VydmVycywgc3Vic2NyaWJlcik7IH0pKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgdGhyb3duRXJyb3IgPSBfYS50aHJvd25FcnJvciwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhyb3duRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IFN1YmplY3QgfTtcbnZhciBBbm9ueW1vdXNTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQW5vbnltb3VzU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5leHQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVycm9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgZXJyKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29tcGxldGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IEVNUFRZX1NVQlNDUklQVElPTjtcbiAgICB9O1xuICAgIHJldHVybiBBbm9ueW1vdXNTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBBbm9ueW1vdXNTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0LmpzLm1hcCIsImltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4vZW5lbXlcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xuaW1wb3J0IHsgRW5lbXlIYW5kbGVyIH0gZnJvbSBcIi4vZW5lbXlIYW5kbGVyXCI7XG5pbXBvcnQgeyBTaG90IH0gZnJvbSBcIi4vc2hvdFwiO1xuaW1wb3J0IHsgR2FtZVNldHRpbmdzIH0gZnJvbSBcIi4vZ2FtZS1zZXR0aW5nc1wiO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlIH0gZnJvbSBcInJ4anNcIjtcblxuY29uc3Qgc3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3QoMjMpO1xuY29uc3QgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IDxIVE1MQ2FudmFzRWxlbWVudD4oXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiamtvbnNJbnZhZGVyXCIpXG4pO1xuY29uc3QgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoXG5cdFwiMmRcIlxuKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5jb25zdCBlbmVteUhhbmRsZXI6IEVuZW15SGFuZGxlciA9IG5ldyBFbmVteUhhbmRsZXIoKTtcbmNvbnN0IHNldHRpbmdzOiBHYW1lU2V0dGluZ3MgPSBuZXcgR2FtZVNldHRpbmdzKGNhbnZhcyk7XG5jb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG5zdWJqZWN0LnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG5sZXQgc2hvdHMgPSBuZXcgQXJyYXkoKTtcbmxldCBwbGF5ZXJzID0gbmV3IEFycmF5KCk7XG5sZXQgZ2FtZVN0YXJ0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBhY3R1YWxTY29yZTogbnVtYmVyID0gMDtcbmxldCBzY29yZUVsZW1lbnQ6IEhUTUxPdXRwdXRFbGVtZW50ID0gPEhUTUxPdXRwdXRFbGVtZW50Pihcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKVxuKTtcbmxldCBhbmltYXRpb246IG51bWJlcjtcbmxldCBhbmltYXRpb25BY3RpdmU6IGJvb2xlYW4gPSB0cnVlO1xubGV0IGFuaW1hdGlvblNwZWVkOiBudW1iZXIgPSAxIC8gNjA7XG4vLyAhIFNob3VsZCBub3QgYmUsIGJ1dCBkdW1teSBlbmVteSBmb3Igem9vbSBhbmQgdGlsZSBzaXplLCB0aWxsIGdhbWUgc2V0dGluZ3MgYW5kIHRpbGUgY29uZmlnIGlzIGNyZWF0ZWQuXG5jb25zdCBwbGF5ZXIgPSBuZXdQbGF5ZXIoXCJhXCIsIFwiZFwiLCBcIiBcIik7XG5cbmNvbnN0IGVuZW15OiBFbmVteSA9IG5ldyBFbmVteShjb250ZXh0LCBzaG90cywgZW5lbXlIYW5kbGVyLCAxLCAwLCAwKTtcbmNvbnN0IHNwYWNlQmV0d2VlbiA9IHNldHRpbmdzLnpvb20gKiBlbmVteS50aWxlV2lkdGg7XG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChrZXlib2FyZCkgPT4ge1xuXHRcdHN3aXRjaCAoa2V5Ym9hcmQua2V5KSB7XG5cdFx0XHRjYXNlIFwiclwiOlxuXHRcdFx0XHRpZiAoZ2FtZVN0YXJ0ZWQgPT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0Z2FtZVN0YXJ0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdGFuaW1hdGUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpbml0KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGdhbWVTdGFydGVkID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fSk7XG59XG5mb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcblx0ZW5lbXlIYW5kbGVyLmFkZEVuZW15KFxuXHRcdG5ldyBFbmVteShjb250ZXh0LCBzaG90cywgZW5lbXlIYW5kbGVyLCBzZXR0aW5ncy56b29tLCBpICogc3BhY2VCZXR3ZWVuLCAwKVxuXHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2FtZU92ZXIoKSB7fVxuXG5mdW5jdGlvbiBhbmltYXRlKCk6IHZvaWQge1xuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRwbGF5ZXIuaGFuZGxlSW5wdXQoKTtcblx0XHRlbmVteUhhbmRsZXIubW92ZUVuZW1pZXMoKTtcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHNob3RzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRzaG90c1tqXS5zaG9vdEFuaW1hdGlvbigpO1xuXHRcdH1cblx0XHRpZiAoYW5pbWF0aW9uQWN0aXZlKSB7XG5cdFx0XHRhbmltYXRpb24gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG5cdFx0fVxuXHR9LCBhbmltYXRpb25TcGVlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY29yZSgpIHtcblx0YWN0dWFsU2NvcmUrKztcblx0Ly8gc2NvcmVFbGVtZW50LnZhbHVlID0gYWN0dWFsU2NvcmUudG9TdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gbmV3UGxheWVyKGxlZnQ6IHN0cmluZywgcmlnaHQ6IHN0cmluZywgZmlyZTogc3RyaW5nKTogUGxheWVyIHtcblx0Y29uc3Qgc2hvdDogU2hvdCA9IG5ldyBTaG90KGNvbnRleHQpO1xuXHRjb25zdCBwbGF5ZXI6IFBsYXllciA9IG5ldyBQbGF5ZXIoXG5cdFx0Y29udGV4dCxcblx0XHRzaG90LFxuXHRcdGxlZnQsXG5cdFx0cmlnaHQsXG5cdFx0ZmlyZSxcblx0XHRzZXR0aW5ncy56b29tXG5cdCk7XG5cblx0c2hvdHMucHVzaChzaG90KTtcblx0cGxheWVycy5wdXNoKHBsYXllcik7XG5cblx0cmV0dXJuIHBsYXllcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3AoKSB7XG5cdGNvbnNvbGUubG9nKFwic3RvcFwiKTtcblx0YW5pbWF0aW9uQWN0aXZlID0gZmFsc2U7XG5cdGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbik7XG5cdGxldCBmb250c2l6ZTogbnVtYmVyID0gMTYwO1xuXHRsZXQgeCA9IChjYW52YXMud2lkdGggLSBmb250c2l6ZSAqIDUpIC8gMjtcblx0bGV0IHkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcblx0Y29udGV4dC5mb250ID0gYCR7Zm9udHNpemV9cHggQXJpYWxgO1xuXHRjb250ZXh0LmZpbGxUZXh0KFwiR2FtZSBPdmVyXCIsIHgsIHkpO1xufVxuXG5pbml0KCk7XG4iLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xudmFyIEJlaGF2aW9yU3ViamVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJlaGF2aW9yU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCZWhhdmlvclN1YmplY3QoX3ZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl92YWx1ZSA9IF92YWx1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfc3VwZXIucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgIXN1YnNjcmlwdGlvbi5jbG9zZWQgJiYgc3Vic2NyaWJlci5uZXh0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGhhc0Vycm9yID0gX2EuaGFzRXJyb3IsIHRocm93bkVycm9yID0gX2EudGhyb3duRXJyb3IsIF92YWx1ZSA9IF9hLl92YWx1ZTtcbiAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyB0aHJvd25FcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHJldHVybiBfdmFsdWU7XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgKHRoaXMuX3ZhbHVlID0gdmFsdWUpKTtcbiAgICB9O1xuICAgIHJldHVybiBCZWhhdmlvclN1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmVoYXZpb3JTdWJqZWN0LmpzLm1hcCIsImltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4vZW5lbXlcIjtcbmV4cG9ydCBjbGFzcyBFbmVteUhhbmRsZXIge1xuXHRwcml2YXRlIGVuZW1pZXM6IEVuZW15W107XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuZW5lbWllcyA9IFtdO1xuXHR9XG5cblx0YWRkRW5lbXkoZW5lbXk6IEVuZW15KSB7XG5cdFx0dGhpcy5lbmVtaWVzLnB1c2goZW5lbXkpO1xuXHR9XG5cblx0YWRkRW5lbWllcyhlbmVtaWVzOiBFbmVteVtdKSB7XG5cdFx0dGhpcy5lbmVtaWVzLmNvbmNhdChlbmVtaWVzKTtcblx0fVxuXG5cdHJlbW92ZUVuZW15KGVuZW15OiBFbmVteSkge1xuXHRcdHRoaXMuZW5lbWllcy5zcGxpY2UodGhpcy5lbmVtaWVzLmluZGV4T2YoZW5lbXkpLCAxKTtcblx0fVxuXG5cdG1vdmVFbmVtaWVzKCkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbmVtaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0aGlzLmVuZW1pZXNbaV0ubW92ZUVuZW15KCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGdldCBnZXRFbmVtaWVzWSgpOiBudW1iZXJbXSB7XG5cdFx0Y29uc3QgeUxpc3Q6IG51bWJlcltdID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVuZW1pZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHlMaXN0LnB1c2godGhpcy5lbmVtaWVzW2ldLnkpO1xuXHRcdH1cblx0XHRyZXR1cm4geUxpc3Q7XG5cdH1cbn1cbiIsImV4cG9ydCBjbGFzcyBHYW1lU2V0dGluZ3Mge1xuICBwcml2YXRlIF96b29tOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcml2YXRlIHNpemU6IG51bWJlciA9IDA7XG4gIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5yZXNpemVDYW52YXMoKTtcbiAgICBcbiAgICAvLyBXZWJraXQvQmxpbmsgd2lsbCBmaXJlIHRoaXMgb24gbG9hZCwgYnV0IEdlY2tvIGRvZXNuJ3QuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5yZXNpemVDYW52YXMoKVxuICAgIH0pO1xuICB9XG4gIFxuICBwcml2YXRlIHJlc2l6ZUNhbnZhcygpIHtcbiAgICAvLyByZXNpemUgY2FudmFzIGlmIHRoZSB3aW5kb3cgc2l6ZSByZWFjaGVkIGEgc3BlY2lmaWMgc2l6ZVxuICAgICAgaWYgKGlubmVySGVpZ2h0IDw9IDQ1MCkge1xuICAgICAgICB0aGlzLnpvb20gPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaW5uZXJIZWlnaHQgPD0gNjkwIHx8IGlubmVyV2lkdGggPD0gNjc1ICkge1xuICAgICAgICB0aGlzLnpvb20gPSAyO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaW5uZXJIZWlnaHQgPD0gOTE1IHx8IGlubmVyV2lkdGggPD0gOTAwKSB7XG4gICAgICAgIHRoaXMuem9vbSA9IDM7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy56b29tID0gNDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zaXplID0gMjI1ICogdGhpcy56b29tO1xuICAgICAgICAvLyBTZXQgY2FudmFzIGhlaWdodCBhbmQgd2l0aCBpbiBKUywgYmVjYXVzZSB3aXRoIGFuZCBoZWlnaHQgc2V0IGluIENTUyBkaXN0b3J0IGRyYXduIHNoYXBlc1xuICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gdGhpcy5zaXplO1xuICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IHRoaXMuc2l6ZTtcbiAgfTtcblxuICBwdWJsaWMgc2V0IHpvb20oem9vbTogbnVtYmVyKSB7XG4gICAgdGhpcy5fem9vbSA9IHpvb207XG4gIH1cblxuICBwdWJsaWMgZ2V0IHpvb20oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fem9vbTtcbiAgfVxuICBcbn0iXSwic291cmNlUm9vdCI6IiJ9